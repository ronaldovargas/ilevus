{"version":3,"sources":["legacy\\jsx\\core\\view\\admin\\AdminPanelTranslate.jsx"],"names":["S","require","$","_","React","Link","Toastr","SystemStore","UserSession","LoadingGauge","Messages","filterNew","value","New","filterNotReviewed","Reviewed","filterAll","module","exports","createClass","contextTypes","router","PropTypes","object","getInitialState","loading","lang","editKey","componentDidMount","me","on","messages","ptBR","sortBy","pairs","msg","en","es","setState","raw","filter","NotReviewed","All","removeAttr","remove","success","get","refreshMessages","count","format","refs","componentWillUnmount","off","dispatch","action","ACTION_RETRIEVE_MESSAGES","changeLanguage","event","preventDefault","syncTranslations","prefix","isEmpty","error","attr","ACTION_SYNC_TRANSLATIONS","data","s","addTranslationKey","ACTION_ADD_TRANSLATION_KEY","tweakEditing","key","saveMessage","ACTION_UPDATE_TRANSLATION","OldKey","state","Key","Content","Lang","onKeyUp","reviewTranslation","ACTION_REVIEW_TRANSLATION_KEY","renderEditInput","ref","defaultValue","renderTable","map","index","bind","renderMessages","length","render"],"mappings":"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","file":"AdminPanelTranslate.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["\r\nvar S = require(\"string\");\r\nvar $ = require(\"jquery\");\r\nvar _ = require(\"underscore\");\r\nvar React = require(\"react\");\r\nvar Link = require(\"react-router\").Link;\r\nvar Toastr = require(\"toastr\");\r\n\r\nvar SystemStore = require(\"ilevus/jsx/core/store/System.jsx\");\r\nvar UserSession = require(\"ilevus/jsx/core/store/UserSession.jsx\");\r\n\r\nvar LoadingGauge = require(\"ilevus/jsx/core/widget/LoadingGauge.jsx\");\r\n\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nfunction filterNew(value) {\r\n    return value[1] && value[1].New;\r\n}\r\n\r\nfunction filterNotReviewed(value) {\r\n    return value[1] && !value[1].New && !value[1].Reviewed;\r\n}\r\n\r\nfunction filterAll(value) {\r\n    return value[1] && (!value[1].New) && value[1].Reviewed;\r\n}\r\n\r\nmodule.exports = React.createClass({\r\n    contextTypes: {\r\n        router: React.PropTypes.object\r\n    },\r\n    getInitialState() {\r\n        return {\r\n            loading: true,\r\n            lang: \"pt-br\",\r\n            editKey: null\r\n        };\r\n    },\r\n    componentDidMount() {\r\n        var me = this;\r\n        SystemStore.on(\"retrieve-messages\", (messages) => {\r\n            var ptBR = _.sortBy(_.pairs(messages['pt-br'].Messages), (msg) => { return msg[0] });\r\n            var en = _.sortBy(_.pairs(messages['en'].Messages), (msg) => { return msg[0] });\r\n            var es = _.sortBy(_.pairs(messages['es'].Messages), (msg) => { return msg[0] });\r\n            me.setState({\r\n                loading: false,\r\n                raw: messages,\r\n                editKey: null,\r\n                \"pt-br\": {\r\n                    New: _.filter(ptBR, filterNew),\r\n                    NotReviewed: _.filter(ptBR, filterNotReviewed),\r\n                    All: _.filter(ptBR, filterAll)\r\n                },\r\n                en: {\r\n                    New: _.filter(en, filterNew),\r\n                    NotReviewed: _.filter(en, filterNotReviewed),\r\n                    All: _.filter(en, filterAll)\r\n                },\r\n                es: {\r\n                    New: _.filter(es, filterNew),\r\n                    NotReviewed: _.filter(es, filterNotReviewed),\r\n                    All: _.filter(es, filterAll)\r\n                }\r\n            });\r\n            $(\"button\").removeAttr(\"disabled\");\r\n        }, me);\r\n        \r\n        SystemStore.on(\"update-translation\", () => {\r\n            Toastr.remove();\r\n            Toastr.success(Messages.get(\"TextDataSavedSuccessfully\"));\r\n            me.refreshMessages();\r\n        }, me);\r\n\r\n        SystemStore.on(\"translations-synced\", (count) => {\r\n            Toastr.remove();\r\n            Toastr.success(Messages.format(\"TextNTranslationsSynced\", [count]));\r\n            me.refreshMessages();\r\n        }, me);\r\n\r\n        SystemStore.on(\"add-translation-key\", () => {\r\n            Toastr.remove();\r\n            Toastr.success(Messages.get(\"TextTranslationKeyAdded\"));\r\n            me.refreshMessages();\r\n        }, me);\r\n\r\n        SystemStore.on(\"review-translation-key\", () => {\r\n            Toastr.remove();\r\n            Toastr.success(Messages.get(\"TextDataSavedSuccessfully\"));\r\n            me.refreshMessages();\r\n        }, me);\r\n\r\n        SystemStore.on(\"fail\", (msg) => {\r\n            $(\"button\").removeAttr(\"disabled\");\r\n            $(me.refs[\"save-btn\"]).removeAttr(\"disabled\");\r\n            $(me.refs[\"sync-btn\"]).removeAttr(\"disabled\");\r\n        }, me);\r\n\r\n        me.refreshMessages();\r\n    },\r\n    componentWillUnmount() {\r\n        SystemStore.off(null, null, this);\r\n    },\r\n\r\n    refreshMessages() {\r\n        SystemStore.dispatch({\r\n            action: SystemStore.ACTION_RETRIEVE_MESSAGES\r\n        });\r\n    },\r\n\r\n    changeLanguage(lang, event) {\r\n        event && event.preventDefault();\r\n        this.setState({\r\n            lang: lang\r\n        });\r\n    },\r\n\r\n    syncTranslations(event) {\r\n        event && event.preventDefault();\r\n        var prefix = S(this.refs[\"url-prefix\"].value);\r\n        if (prefix.isEmpty()) {\r\n            Toastr.remove();\r\n            Toastr.error(Messages.get(\"TextTypeRemoteUrlPrefix\"));\r\n            return;\r\n        }\r\n        $(this.refs['sync-btn']).attr(\"disabled\", \"disabled\");\r\n        SystemStore.dispatch({\r\n            action: SystemStore.ACTION_SYNC_TRANSLATIONS,\r\n            data: prefix.s\r\n        });\r\n    },\r\n\r\n    addTranslationKey(event) {\r\n        event && event.preventDefault();\r\n        var value = S(this.refs[\"new-message-label\"].value);\r\n        if (value.isEmpty()) {\r\n            Toastr.remove();\r\n            Toastr.error(Messages.get(\"TextTypeNewKey\"));\r\n            return;\r\n        }\r\n        $(this.refs['add-btn']).attr(\"disabled\", \"disabled\");\r\n        SystemStore.dispatch({\r\n            action: SystemStore.ACTION_ADD_TRANSLATION_KEY,\r\n            data: value.s\r\n        });\r\n    },\r\n\r\n    tweakEditing(key, event) {\r\n        event && event.preventDefault();\r\n        this.setState({\r\n            editKey: key\r\n        });\r\n    },\r\n\r\n    saveMessage(event) {\r\n        event && event.preventDefault();\r\n        $(this.refs[\"save-btn\"]).attr(\"disabled\", \"disabled\");\r\n        SystemStore.dispatch({\r\n            action: SystemStore.ACTION_UPDATE_TRANSLATION,\r\n            data: {\r\n                OldKey: this.state.editKey,\r\n                Key: this.refs['key-input-' + this.state.editKey].value,\r\n                Content: this.refs['content-input-' + this.state.editKey].value,\r\n                Lang: this.state.lang\r\n            }\r\n        });\r\n    },\r\n\r\n    onKeyUp(event) {\r\n        if (event.key == \"Enter\") {\r\n            this.saveMessage(event);\r\n        } else if (event.key == \"Escape\") {\r\n            this.setState({\r\n                editKey: null\r\n            });\r\n        }\r\n    },\r\n\r\n    reviewTranslation(key, event) {\r\n        event && event.preventDefault();\r\n        SystemStore.dispatch({\r\n            action: SystemStore.ACTION_REVIEW_TRANSLATION_KEY,\r\n            data: {\r\n                Key: key,\r\n                Lang: this.state.lang\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n\r\n    renderEditInput(ref, defaultValue) {\r\n        return <input onKeyUp={this.onKeyUp}\r\n                      type=\"text\"\r\n                      className=\"ilv-form-control\"\r\n                      defaultValue={defaultValue}\r\n                      ref={ref} />;\r\n    },\r\n\r\n    renderTable(messages) {\r\n        return <table className=\"ilv-table ilv-table-sm ilv-table-middle ilv-text-sm\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{Messages.get(\"LabelKey\")}</th>\r\n                    <th>{Messages.get(\"LabelContent\")}</th>\r\n                    <th className=\"ilv-text-xs-right\">{Messages.get(\"LabelStatus\")}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {messages.map((msg, index) => {\r\n                    return (msg[0] == this.state.editKey ? <tr key={'label-'+index}>\r\n                        <td>{this.renderEditInput('key-input-' + msg[0], msg[0])}</td>\r\n                        <td>{this.renderEditInput('content-input-' + msg[0], msg[1].Content)}</td>\r\n                        <td className=\"ilv-text-xs-right\">\r\n                            <a onClick={this.saveMessage} ref=\"save-btn\">\r\n                                <i className=\"material-icons ilv-text-success\" title={Messages.get(\"LabelSave\")}>&#xE876;</i>\r\n                            </a> <a onClick={this.tweakEditing.bind(this, null)}>\r\n                                <i className=\"material-icons ilv-text-danger\" title={Messages.get(\"ActionCancel\")}>&#xE5CD;</i>\r\n                            </a>\r\n                        </td>\r\n                    </tr>\r\n                    :\r\n                    <tr key={'label-' + index}>\r\n                        <td>\r\n                            <a title={Messages.get(\"LabelActions\")} className=\"hidden\">\r\n                                <i className=\"material-icons\">&#xE313;</i>\r\n                            </a> <span onClick={this.tweakEditing.bind(this, msg[0])}>\r\n                                {msg[0]}\r\n                            </span>\r\n                        </td>\r\n                        <td>\r\n                            <span onClick={this.tweakEditing.bind(this, msg[0])}>{msg[1].Content}</span>\r\n                        </td>\r\n                        <td className=\"ilv-text-xs-right\">{msg[1].New ? \"\":(\r\n                            msg[1].Reviewed ?\r\n                                <i className=\"material-icons ilv-text-info\">&#xE877;</i>\r\n                                :\r\n                                <a className=\"material-icons\" onClick={this.reviewTranslation.bind(this, msg[0])}\r\n                                   title={Messages.get(\"ActionReview\")}>&#xE876;</a>\r\n                        )}</td>\r\n                    </tr>);\r\n                })}\r\n            </tbody>\r\n        </table>;\r\n    },\r\n\r\n    renderMessages(messages) {\r\n        return <div className=\"ilv-media-list\">\r\n        {messages.New.length > 0 ?\r\n            <div className=\"ilv-media\">\r\n                <div className=\"ilv-media-body\">\r\n                    <h4>{Messages.get(\"LabelNew\")}</h4>\r\n                    <hr />\r\n                    {this.renderTable(messages.New)}\r\n                </div>\r\n            </div>\r\n        :\"\"}\r\n        {messages.NotReviewed.length > 0 ?\r\n            <div className=\"ilv-media\">\r\n                <div className=\"ilv-media-body\">\r\n                    <h4>{Messages.get(\"LabelNotReviewed\")}</h4>\r\n                    <hr />\r\n                    {this.renderTable(messages.NotReviewed)}\r\n                </div>\r\n            </div>\r\n        :\"\"}\r\n            <div className=\"ilv-media\">\r\n                <div className=\"ilv-media-body\">\r\n                    <h4>{Messages.get(\"LabelReviewed\")}</h4>\r\n                    <hr />\r\n                    {this.renderTable(messages.All)}\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    },\r\n\r\n    render () {\r\n        if (this.state.loading)\r\n            return <LoadingGauge />;\r\n        return (\r\n            <div>\r\n                <div className=\"ilv-card\">\r\n                    <div className=\"ilv-card-header\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\">\r\n                                <strong>{Messages.get(\"LabelTranslations\")}</strong>\r\n                            </div>\r\n                            <div className=\"col\">\r\n                                <form className=\"ilv-form-inline\" onSubmit={this.syncTranslations}>\r\n                                    <div className=\"ilv-form-group\">\r\n                                        <input type=\"url\"\r\n                                               spellCheck={false}\r\n                                               className=\"ilv-form-control\"\r\n                                               ref=\"url-prefix\"\r\n                                               placeholder={Messages.get(\"LabelUrlPrefix\")} />\r\n                                        <button type=\"submit\"\r\n                                                className=\"ilv-btn ilv-btn-primary\"\r\n                                                ref='sync-btn'>\r\n                                            {Messages.get(\"LabelSyncRemoteTranslations\")}\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"ilv-card-body\">\r\n                        <ul className=\"ilv-text-sm nav nav-tabs m-b-1\">\r\n                            <li className=\"nav-item\">\r\n                                <a className={\"nav-link\" + (this.state.lang == \"pt-br\" ? \" active\" : \"\")}\r\n                                   onClick={this.changeLanguage.bind(this, \"pt-br\")}>\r\n                                    {Messages.get(\"LanguagePortuguese\")}\r\n                                </a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className={\"nav-link\"+(this.state.lang == 'en' ? \" active\":\"\")}\r\n                                   onClick={this.changeLanguage.bind(this, \"en\")}>\r\n                                    {Messages.get(\"LanguageEnglish\")}\r\n                                </a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className={\"nav-link\"+(this.state.lang == 'es' ? \" active\":\"\")}\r\n                                   onClick={this.changeLanguage.bind(this, \"es\")}>\r\n                                    {Messages.get(\"LanguageSpanish\")}\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n\r\n                        <div className=\"tab-content\">\r\n                            <div className=\"tab-pane active\">\r\n                                <form className=\"ilv-form-inline\" onSubmit={this.addTranslationKey}>\r\n                                    <div className=\"ilv-form-group\">\r\n                                        <input type=\"text\"\r\n                                               spellCheck={false}\r\n                                               className=\"ilv-form-control\"\r\n                                               ref=\"new-message-label\"\r\n                                               placeholder={Messages.get(\"LabelNewKey\")}\r\n                                        />\r\n                                        <button type=\"submit\"\r\n                                                className=\"ilv-btn ilv-btn-primary\"\r\n                                                ref='add-btn'>\r\n                                                {Messages.get(\"LabelAddNewMessage\")}\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                                {this.renderMessages(this.state[this.state.lang])}\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n});\r\n"]}