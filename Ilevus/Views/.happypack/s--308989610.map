{"version":3,"sources":["legacy\\jsx\\core\\view\\user\\wizard\\ProfileWizardCareer.jsx"],"names":["React","require","Link","Toastr","LanguageSelect","CareerForm","UserSession","LoadingGauge","Messages","module","exports","createClass","contextTypes","router","PropTypes","object","professionalData","isRequired","userId","string","getInitialState","careers","context","Career","adding","editing","componentDidMount","me","on","data","success","get","push","componentWillUnmount","off","saveInfo","event","preventDefault","$","refs","attr","state","dispatch","action","ACTION_UPDATE_PROFESSIONAL_CAREER","addCareer","setState","removeCareer","index","splice","forceUpdate","tweakAdding","startEditing","editCareer","orderUp","aux","orderDown","cancelEditing","render","map","career","Role","Institution","Location","Finished","Begin","End","Description","length","bind"],"mappings":"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","file":"ProfileWizardCareer.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["\r\nvar React = require(\"react\");\r\nvar Link = require(\"react-router\").Link;\r\nvar Toastr = require(\"toastr\");\r\n\r\nvar LanguageSelect = require(\"ilevus/jsx/core/widget/LanguageSelect.jsx\");\r\nvar CareerForm = require(\"ilevus/jsx/core/widget/user/CareerForm.jsx\");\r\n\r\nvar UserSession = require(\"ilevus/jsx/core/store/UserSession.jsx\");\r\n\r\nvar LoadingGauge = require(\"ilevus/jsx/core/widget/LoadingGauge.jsx\");\r\n\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nmodule.exports = React.createClass({\r\n    contextTypes: {\r\n        router: React.PropTypes.object,\r\n        professionalData: React.PropTypes.object.isRequired,\r\n        userId: React.PropTypes.string.isRequired\r\n    },\r\n    getInitialState() {\r\n        return {\r\n            careers: this.context.professionalData.Career || [],\r\n            adding: false,\r\n            editing: -1\r\n        };\r\n    },\r\n    componentDidMount() {\r\n        var me = this;\r\n        UserSession.on(\"professionalprofile\", (data) => {\r\n            Toastr.success(Messages.get(\"TextDataSavedSuccessfully\"));\r\n            me.context.router.push(\"/become-a-professional\");\r\n        }, me);\r\n    },\r\n    componentWillUnmount() {\r\n        UserSession.off(null, null, this);\r\n    },\r\n\r\n    saveInfo(event) {\r\n        event.preventDefault();\r\n        $(this.refs['btn-submit']).attr(\"disabled\", true);\r\n        var data = {\r\n            Career: this.state.careers\r\n        };\r\n        UserSession.dispatch({\r\n            action: UserSession.ACTION_UPDATE_PROFESSIONAL_CAREER,\r\n            data: data\r\n        });\r\n    },\r\n\r\n    addCareer(data) {\r\n        if (data) {\r\n            this.state.careers.push(data);\r\n            this.setState({\r\n                adding: false\r\n            });\r\n        }\r\n    },\r\n    removeCareer(index, event) {\r\n        event.preventDefault();\r\n        this.state.careers.splice(index, 1);\r\n        this.forceUpdate();\r\n    },\r\n    tweakAdding(event) {\r\n        event && event.preventDefault();\r\n        this.setState({\r\n            adding: !this.state.adding,\r\n            editing: -1\r\n        });\r\n    },\r\n    startEditing(index, event) {\r\n        event && event.preventDefault();\r\n        this.setState({\r\n            adding: false,\r\n            editing: index\r\n        });\r\n    },\r\n    editCareer(data) {\r\n        if (data) {\r\n            this.state.careers[this.state.editing] = data;\r\n            this.setState({\r\n                adding: false,\r\n                editing: -1\r\n            });\r\n        }\r\n    },\r\n    orderUp(index, event) {\r\n        event && event.preventDefault();\r\n        var aux = this.state.careers[index];\r\n        this.state.careers[index] = this.state.careers[index - 1];\r\n        this.state.careers[index - 1] = aux;\r\n        this.forceUpdate();\r\n    },\r\n    orderDown(index, event) {\r\n        event && event.preventDefault();\r\n        var aux = this.state.careers[index];\r\n        this.state.careers[index] = this.state.careers[index + 1];\r\n        this.state.careers[index + 1] = aux;\r\n        this.forceUpdate();\r\n    },\r\n    cancelEditing() {\r\n        this.setState({\r\n            adding: false,\r\n            editing: -1\r\n        });\r\n    },\r\n\r\n    render() {\r\n        return (<div className=\"container\">\r\n\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t<div className=\"col-6\">\r\n                        <div className=\"text-center my-5\">\r\n\t\t\t\t\t\t\t\t<h3>{Messages.get(\"TextCareer\")}</h3>\r\n                        </div>\r\n\t\t\t\t\t\t<div className=\"ilv-card\">\r\n\t\t\t\t\t\t\t<div className=\"ilv-card-body\">\r\n\t\t\t\t\t\t\t\t<ul className=\"ilv-media-list ilv-media-list-bordered\">\r\n                                    {this.state.careers.map((career, index) => {\r\n                                        if (index == this.state.editing) {\r\n                                            return <CareerForm onSubmit={this.editCareer}\r\n                                                onCancel={this.cancelEditing}\r\n                                                career={this.state.careers[this.state.editing]}\r\n                                            />;\r\n                                        }\r\n                                        return <li className=\"ilv-media ilv-media-middle\" key={\"career-\" + index}>\r\n\t\t\t\t\t\t\t\t\t\t    <div className=\"ilv-media-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t    <h4 className=\"ma-0\">{career.Role}</h4>\r\n                                                <span>\r\n                                                    {career.Institution} | {career.Location}\r\n                                                </span>\r\n                                                <div className=\"ilv-text-small text-muted\">\r\n                                                    {career.Finished\r\n                                                        ? career.Begin + (career.End ? \" \" + Messages.get(\"LabelTo\") + \" \" + career.End : \"\")\r\n                                                        : Messages.get(\"LabelStartedAt\") + \" \" + career.Begin + \" \" + Messages.get(\"LabelTo\") + Messages.get(\"TextPresent\")\r\n                                                    }\r\n                                                </div>\r\n\t\t\t\t\t\t\t\t\t\t\t    <p>{career.Description}</p>\r\n                                            </div>\r\n                                            <div className=\"ilv-media-right\">\r\n                                                {this.state.careers.length > 1 ?\r\n                                                    (index < this.state.careers.length - 1 ?\r\n                                                        <button className=\"ilv-btn ilv-btn-icon ilv-btn-link px-0\"\r\n                                                                onClick={this.orderDown.bind(this, index)}>\r\n                                                            <i className=\"ilv-icon material-icons md-18\">&#xE5DB;</i>\r\n                                                        </button>\r\n                                                    :\"\")\r\n                                                :\"\"}\r\n                                                {this.state.careers.length > 1 ?\r\n                                                    (index > 0 ?\r\n                                                        <button className=\"ilv-btn ilv-btn-icon ilv-btn-link px-0\"\r\n                                                                onClick={this.orderUp.bind(this, index)}>\r\n                                                            <i className=\"ilv-icon material-icons md-18\">&#xE5D8;</i>\r\n                                                        </button>\r\n                                                    :\"\")\r\n                                                :\"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t    <button className=\"ilv-btn ilv-btn-icon ilv-btn-link px-0\" onClick={this.startEditing.bind(this,index)}>\r\n                                                    <i className=\"ilv-icon material-icons md-18\">&#xE3C9;</i>\r\n\t\t\t\t\t\t\t\t\t\t\t    </button>\r\n                                                <button className=\"ilv-btn ilv-btn-icon ilv-btn-clean text-danger px-0 ml-3\" onClick={this.removeCareer.bind(this, index)}>\r\n                                                    <i className=\"ilv-icon material-icons md-18\">&#xE5C9;</i>\r\n                                                </button>\r\n                                            </div>\r\n\t\t\t\t\t\t\t\t\t    </li>;\r\n                                    })}\r\n\t\t\t\t\t\t\t\t\t\r\n                                    {!this.state.adding && (this.state.editing < 0) ?\r\n                                        <li className=\"ilv-media\">\r\n                                            <div className=\"ilv-media-body ilv-text-xs-center\">\r\n                                                <button className=\"ilv-btn ilv-btn-link\" onClick={this.tweakAdding}>\r\n                                                    {Messages.get(\"ActionAddNewCareerExperience\")}\r\n                                                </button>\r\n                                            </div>\r\n                                        </li>\r\n                                    :\"\"}\r\n                                </ul>\r\n                                {this.state.adding ?\r\n                                    <CareerForm onSubmit={this.addCareer}\r\n                                        onCancel={this.tweakAdding} />\r\n                                :\"\"}\r\n                            </div>\r\n\r\n                            {!this.state.adding && (this.state.editing < 0) ?\r\n                                <div className=\"ilv-card-footer ilv-text-xs-right\">\r\n                                    <Link className=\"ilv-btn ilv-btn-clean\" to=\"/become-a-professional\">\r\n                                        {Messages.get(\"LabelBack\")}\r\n                                    </Link>\r\n                                    <button className=\"ilv-btn ilv-btn-primary\"\r\n                                        onClick={this.saveInfo}\r\n                                        ref=\"btn-submit\">\r\n                                             {Messages.get(\"LabelSave\")}\r\n                                     </button>\r\n                                </div>\r\n                            :\"\"}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>);\r\n        }\r\n});\r\n"]}