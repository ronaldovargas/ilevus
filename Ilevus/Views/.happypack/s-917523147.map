{"version":3,"sources":["legacy\\jsx\\core\\view\\user\\Profile.jsx"],"names":["S","require","React","Link","Toastr","UserSession","AddressForm","LoadingGauge","Modal","Messages","UserIcon","module","exports","createClass","contextTypes","router","PropTypes","object","getInitialState","loading","get","picture","Image","phoneFilterRe","componentDidMount","me","on","msg","$","refs","removeClass","removeAttr","error","setState","success","updatePhoneInput","componentWillUnmount","off","componentDidUpdate","saveProfile","event","phoneNumberValidation","addClass","attr","data","Birthdate","value","Name","PhoneNumber","trim","val","Sex","Surname","dispatch","action","ACTION_UPDATE_PROFILE","saveAddress","getValues","ACTION_UPDATE_ADDRESS","removePicture","evt","preventDefault","confirm","hide","ACTION_REMOVE_PICTURE","updatePicture","uploadFile","url","arg1","arg2","ACTION_REFRESH","xhr","status","responseJSON","Message","intlTelInput","phoneNumberFilter","opts","key","match","render","state","user","pic","backgroundImage","isEmpty","s","substr","Professional"],"mappings":"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","file":"Profile.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["\r\nvar S = require(\"string\");\r\nrequire(\"ilevus/jsx/vendor/intlTelInput.js\");\r\n\r\nvar React = require(\"react\");\r\nvar Link = require(\"react-router\").Link;\r\nvar Toastr = require(\"toastr\");\r\n\r\nvar UserSession = require(\"ilevus/jsx/core/store/UserSession.jsx\");\r\n\r\nvar AddressForm = require(\"ilevus/jsx/core/widget/user/AddressForm.jsx\");\r\nvar LoadingGauge = require(\"ilevus/jsx/core/widget/LoadingGauge.jsx\");\r\nvar Modal = require(\"ilevus/jsx/core/widget/Modal.jsx\");\r\n\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nvar UserIcon = require(\"ilevus/img/user.png\");\r\n\r\nmodule.exports = React.createClass({\r\n    contextTypes: {\r\n        router: React.PropTypes.object\r\n    },\r\n    getInitialState() {\r\n        return {\r\n            loading: UserSession.get(\"loading\"),\r\n            picture: UserSession.get(\"loading\") ? null : UserSession.get(\"user\").Image\r\n        };\r\n    },\r\n    phoneFilterRe: /[0-9\\-\\+ ]/,\r\n    componentDidMount() {\r\n        var me = this;\r\n        UserSession.on(\"fail\", (msg) => {\r\n            $(me.refs[\"profile-save\"]).removeClass(\"loading\").removeAttr(\"disabled\");\r\n            $(me.refs[\"address-save\"]).removeClass(\"loading\").removeAttr(\"disabled\");\r\n            Toastr.error(msg);\r\n        }, me);\r\n        UserSession.on(\"loaded\", () => {\r\n            me.setState({\r\n                loading: false,\r\n                picture: UserSession.get(\"user\").Image\r\n            });\r\n        }, me);\r\n        UserSession.on(\"update\", () => {\r\n            $(me.refs['picture-remove']).removeClass(\"loading\").removeAttr(\"disabled\", \"disabled\");\r\n            me.setState({\r\n                picture: UserSession.get(\"user\").Image\r\n            });\r\n        }, me);\r\n        UserSession.on(\"updateprofile\", () => {\r\n            $(me.refs[\"profile-save\"]).removeClass(\"loading\").removeAttr(\"disabled\");\r\n            Toastr.success(Messages.get(\"TextProfileUpdateSuccess\"));\r\n        }, me);\r\n        UserSession.on(\"updateaddress\", () => {\r\n            $(me.refs[\"address-save\"]).removeClass(\"loading\").removeAttr(\"disabled\");\r\n            Toastr.success(Messages.get(\"TextAddressUpdateSuccess\"));\r\n        }, me);\r\n\r\n        this.updatePhoneInput();\r\n    },\r\n    componentWillUnmount() {\r\n        UserSession.off(null, null, this);\r\n    },\r\n\r\n    componentDidUpdate() {\r\n        this.updatePhoneInput();\r\n    },\r\n\r\n    saveProfile(event) {\r\n        if (!this.phoneNumberValidation()) {\r\n            Toastr.error(Messages.get(\"ValidationPhoneNumberInvalid\"));\r\n            return;\r\n        }\r\n        $(this.refs[\"profile-save\"]).addClass(\"loading\").attr(\"disabled\", \"disabled\");\r\n        var data = {\r\n            Birthdate: this.refs['profile-birthdate'].value,\r\n            Name: this.refs['profile-name'].value,\r\n            PhoneNumber: $.trim($(\"#editProfileFormPhone\").val()),\r\n            Sex: this.refs['profile-sex'].value,\r\n            Surname: this.refs['profile-surname'].value\r\n        };\r\n\r\n        UserSession.dispatch({\r\n            action: UserSession.ACTION_UPDATE_PROFILE,\r\n            data: data\r\n        });\r\n    },\r\n    saveAddress() {\r\n        $(this.refs[\"address-save\"]).addClass(\"loading\").attr(\"disabled\", \"disabled\");\r\n        var data = this.refs['form-address'].getValues();\r\n\r\n        UserSession.dispatch({\r\n            action: UserSession.ACTION_UPDATE_ADDRESS,\r\n            data: data\r\n        });\r\n    },\r\n\r\n    removePicture(evt) {\r\n        evt.preventDefault();\r\n        Modal.confirm(\r\n            Messages.get(\"LabelWarning\"),\r\n            Messages.get(\"TextRemovePictureConfirmation\"),\r\n            () => {\r\n                Modal.hide();\r\n                $(this.refs['picture-remove']).addClass(\"loading\").attr(\"disabled\", \"disabled\");\r\n                UserSession.dispatch({\r\n                    action: UserSession.ACTION_REMOVE_PICTURE\r\n                });\r\n            }\r\n        );\r\n    },\r\n\r\n    updatePicture() {\r\n        Modal.uploadFile(\r\n            Messages.get(\"ActionSendPicture\"),\r\n            <p>{Messages.get(\"TextSendPicture\")}</p>,\r\n            UserSession.url + \"/UpdatePicture\",\r\n            (arg1, arg2) => {\r\n                Modal.hide();\r\n                Toastr.success(Messages.get(\"TextPictureUpdateSuccess\"));\r\n                UserSession.dispatch({\r\n                    action: UserSession.ACTION_REFRESH\r\n                });\r\n            },\r\n            (xhr, status) => {\r\n                Modal.hide();\r\n                if (xhr.responseJSON && xhr.responseJSON.Message) {\r\n                    Toastr.error(xhr.responseJSON.Message);\r\n                } else {\r\n                    Toastr.error(Messages.get(\"TextUnexpectedError\"));\r\n                }\r\n            }\r\n        );\r\n    },\r\n\r\n    updatePhoneInput() {\r\n        $(\"#editProfileFormPhone\").intlTelInput();\r\n    },\r\n    phoneNumberValidation() {\r\n        if (!$(\"#editProfileFormPhone\").intlTelInput(\"isValidNumber\")) {\r\n            $(\"#editProfileFormPhone\").addClass(\"ilv-invalid\");\r\n            return false;\r\n        } else {\r\n            $(\"#editProfileFormPhone\").removeClass(\"ilv-invalid\");\r\n            return true;\r\n        }\r\n    },\r\n    phoneNumberFilter(event, opts) {\r\n        if (event.key && event.key.match && !event.key.match(this.phoneFilterRe))\r\n            event.preventDefault();\r\n    },\r\n\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return <LoadingGauge />;\r\n        }\r\n        var user = UserSession.get(\"user\");\r\n        var pic = S(this.state.picture);\r\n        return (\r\n            <div>\r\n                <div className=\"mb-5\">\r\n                    <h4>{Messages.get(\"LabelProfilePicture\")}</h4>\r\n                    <div className=\"ilv-form-group\">\r\n                        <div className=\"ilv-media ilv-media-middle\">\r\n\t\t\t\t\t        <div className=\"ilv-media-left\">\r\n                                <div className=\"media-left\">\r\n                                    <div className=\"ilv-avatar-fluid ilv-avatar-fluid-lg\"\r\n                                         style={{backgroundImage: \"url(\"+(pic.isEmpty() ? UserIcon : pic.s)+\")\"}} />\r\n                                </div>\r\n\t\t\t\t\t        </div>\r\n\t\t\t\t\t        <div className=\"ilv-media-body\">\r\n                                <span className=\"ilv-font-weight-semibold\">{Messages.get(\"LabelSelectPicture\")}</span>\r\n                                <p className=\"ilv-text-small text-muted m-a-0\">{Messages.get(\"TextProfilePictureLimitations\")}</p>\r\n\t\t\t\t\t        </div>\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"ilv-btn ilv-btn-neutral\" onClick={this.updatePicture}>{Messages.get(\"ActionSendPicture\")}</button>\r\n                    {pic.isEmpty() ? \"\" :\r\n                        <button className=\"ilv-btn ilv-btn-link\" onClick={this.removePicture} ref=\"picture-remove\">\r\n                            {Messages.get(\"ActionRemovePicture\")}\r\n                        </button>\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col mb-5\">\r\n                        <h4>{Messages.get(\"LabelBasicInfo\")}</h4>\r\n                        <form>\r\n                            <div className=\"ilv-form-group\">\r\n                                <label className=\"ilv-form-label\" htmlFor=\"editProfileFormFirstName\">\r\n                                    {Messages.get(\"LabelName\")}\r\n                                </label>\r\n                                <input className=\"ilv-form-control\"\r\n                                        type=\"text\"\r\n                                        spellCheck={false}\r\n                                        id=\"editProfileFormFirstName\"\r\n                                        ref=\"profile-name\"\r\n                                        defaultValue={user.Name} />\r\n                            </div>\r\n\r\n                            <div className=\"ilv-form-group\">\r\n                                <label className=\"ilv-form-label\" htmlFor=\"editProfileFormLastName\">\r\n                                    {Messages.get(\"LabelSurname\")}\r\n                                </label>\r\n                                <input className=\"ilv-form-control\"\r\n                                        type=\"text\"\r\n                                        spellCheck={false}\r\n                                        id=\"editProfileFormLastName\"\r\n                                        ref=\"profile-surname\"\r\n                                        defaultValue={user.Surname} />\r\n                            </div>\r\n\r\n                            <div className=\"ilv-form-group\">\r\n                                <label className=\"ilv-form-label\" htmlFor=\"editProfileFormGender\">\r\n                                    {Messages.get(\"LabelSex\")}\r\n                                </label>\r\n                                <select className=\"ilv-form-control\" id=\"editProfileFormGender\" ref=\"profile-sex\" defaultValue={user.Sex}>\r\n                                    <option value=\"\">-- {Messages.get(\"LabelSex\")} --</option>\r\n                                    <option value=\"M\">{Messages.get(\"SexMale\")}</option>\r\n                                    <option value=\"F\">{Messages.get(\"SexFemale\")}</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"ilv-form-group\">\r\n                                <label className=\"ilv-form-label\" htmlFor=\"editProfileFormBirth\">\r\n                                    {Messages.get(\"LabelBirthdate\")}\r\n                                </label>\r\n                                <input className=\"ilv-form-control\"\r\n                                        type=\"date\"\r\n                                        id=\"editProfileFormBirth\"\r\n                                        ref=\"profile-birthdate\"\r\n                                        defaultValue={user.Birthdate ? user.Birthdate.substr(0, 10):null} />\r\n                            </div>\r\n\r\n                            <div className=\"ilv-form-group m-b-0\">\r\n                                <label className=\"ilv-form-label\" htmlFor=\"editProfileFormPhone\">\r\n                                    {Messages.get(\"LabelPhoneNumber\")}\r\n                                </label>\r\n                                <input onKeyPress={this.phoneNumberFilter} onKeyUp={this.phoneNumberValidation}\r\n                                        type=\"tel\"\r\n                                        spellCheck={false}\r\n                                        id=\"editProfileFormPhone\"\r\n                                        ref=\"profile-phonenumber\"\r\n                                        defaultValue={user.PhoneNumber} />\r\n                                <span className=\"ilv-text-small\">\r\n                                    {Messages.get(\"TextPhoneHelp\")}\r\n                                </span>\r\n                            </div>\r\n                        </form>\r\n                        <button className=\"ilv-btn ilv-btn-primary\" onClick={this.saveProfile} ref=\"profile-save\">{Messages.get(\"LabelSave\")}</button>\r\n                    </div>\r\n\r\n                    <div className=\"col mb-5\">\r\n                        <h4>{Messages.get(\"LabelMyAddress\")}</h4>\r\n                        <AddressForm addressData={user.Professional.Professional}\r\n                                        ref=\"form-address\" />\r\n                        <button className=\"ilv-btn ilv-btn-primary\" onClick={this.saveAddress} ref=\"address-save\">{Messages.get(\"LabelUpdateAddress\")}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n});\r\n"]}