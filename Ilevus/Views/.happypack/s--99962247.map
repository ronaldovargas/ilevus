{"version":3,"sources":["legacy\\jsx\\core\\widget\\AdRowBar.jsx"],"names":["_","require","S","moment","React","Link","Messages","UserSession","AdStore","module","exports","createClass","propTypes","keyword","PropTypes","string","limit","isMobile","getDefaultProps","getInitialState","loading","adsMobile","componentDidMount","me","on","three","i","length","push","setState","refreshMobileAds","props","componentWillUnmount","off","componentWillReceiveProps","newProps","refreshAds","dispatch","action","ACTION_SEARCH_MOBILE_ADS","data","render","state","borderBottom","map","ad","index","Id"],"mappings":"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","file":"AdRowBar.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["\r\nvar _ = require(\"underscore\");\r\nvar S = require(\"string\");\r\nvar moment = require(\"moment\");\r\nvar React = require(\"react\");\r\nvar Link = require(\"react-router\").Link;\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nvar UserSession = require(\"ilevus/jsx/core/store/UserSession.jsx\");\r\nvar AdStore = require(\"ilevus/jsx/core/store/Ad.jsx\");\r\n\r\nmodule.exports = React.createClass({\r\n    propTypes: {\r\n        keyword: React.PropTypes.string,\r\n        limit: React.PropTypes.string,\r\n        isMobile: React.PropTypes.string\r\n    },\r\n    getDefaultProps() {\r\n        return {\r\n            keyword: null,\r\n            limit: 1,\r\n            isMobile: true\r\n        };\r\n    },\r\n    getInitialState() {\r\n        return {\r\n            loading: true,\r\n            adsMobile: []\r\n        };\r\n    },\r\n\r\n    componentDidMount() {\r\n        var me = this;\r\n        AdStore.on(\"search-mobile-ads\", (adsMobile) => {\r\n            var three = [];\r\n            for (var i = 0; i < adsMobile.length; i++) {\r\n                if (i >= 1)\r\n                    break;\r\n                three.push(adsMobile[i]);\r\n            }\r\n            me.setState({\r\n                adsMobile: three,\r\n                loading: false\r\n            });\r\n        }, me);\r\n\r\n        me.refreshMobileAds(me.props.keyword, me.props.limit, me.props.isMobile);\r\n    },\r\n    componentWillUnmount() {\r\n        AdStore.off(null, null, this);\r\n    },\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.keyword != this.props.keyword) {\r\n            this.refreshAds(newProps.keyword, me.props.limit, me.props.isMobile);\r\n        }\r\n    },\r\n\r\n    refreshMobileAds(keyword, limit, isMobile) {\r\n        AdStore.dispatch({\r\n            action: AdStore.ACTION_SEARCH_MOBILE_ADS,\r\n            data: { keyword: keyword, limit: limit, isMobile: isMobile }\r\n        });\r\n    },\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return <span />;\r\n        }\r\n        \r\n        return (<div className=\"pb-3 pt-0\" style={{ borderBottom: \"1px solid #eee\" }}>\r\n            {this.state.adsMobile.map((ad, index) => {\r\n                return (<div className=\"ilv-media\" key={\"ad-\" + index }>\r\n                    <a className=\"ilv-media-body\" href={\"/api/Ad/Click?Id=\"+ad.Id}>\r\n                        <img src={\"/api/Ad/View?Id=\" + ad.Id + \"&Position=mobile\"} className=\"w-100\" />\r\n                    </a>\r\n                </div>);\r\n            })}\r\n        </div>);\r\n    }\r\n});\r\n\r\n"]}