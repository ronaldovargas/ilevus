"use strict";

var React = require("react");
var TopBar = require("ilevus/jsx/core/widget/TopBar.jsx");
var Messages = require("ilevus/jsx/core/util/Messages.jsx");
var NotificationStore = require("ilevus/jsx/core/store/notifications/Notification.jsx");

module.exports = React.createClass({
    displayName: "exports",
    getInitialState: function getInitialState() {
        return {
            destination: this.props.params.destination,
            notification: {}
        };
    },
    componentDidMount: function componentDidMount() {
        try {
            var me = this;
            NotificationStore.on("notificationget", function (data) {
                setTimeout(function () {
                    me.setState({
                        notification: data,
                        loading: false
                    });
                }, 10);
            }, me);
        } catch (e) {
            console.log(e);
        }

        NotificationStore.dispatch({
            action: NotificationStore.ACTION_GET_NOTIFICATION,
            data: this.state.destination
        });
    },
    componentWillUnmount: function componentWillUnmount() {
        NotificationStore.off(null, null, this);
    },
    componentWillReceiveProps: function componentWillReceiveProps(newProps, newContext) {
        if (this.props.params.destination != newProps.params.destination) {
            this.setState({
                destination: newProps.params.destination
            });

            if (newProps.params.destination) {
                NotificationStore.dispatch({
                    action: NotificationStore.ACTION_GET_NOTIFICATION,
                    data: newProps.params.destination
                });
            }
        }
    },
    render: function render() {
        var notif = this.state.notification;
        return React.createElement(
            "div",
            { style: { padding: "15px" } },
            React.createElement(
                "div",
                { className: "ilevus-error-404" },
                React.createElement(
                    "div",
                    { className: "container-fluid" },
                    React.createElement(
                        "div",
                        { className: "row" },
                        React.createElement(
                            "div",
                            { className: "col-sm-12" },
                            React.createElement(
                                "div",
                                null,
                                React.createElement(
                                    "h4",
                                    null,
                                    "Detalhes da notifica\xE7\xE3o"
                                )
                            ),
                            React.createElement(
                                "div",
                                { className: "hora-notificacao" },
                                Messages.get("LabelDataNotificacao"),
                                ": ",
                                notif.DateNotification,
                                React.createElement("br", null),
                                Messages.get("LabelEnviadoPor"),
                                ": ",
                                notif.From
                            ),
                            React.createElement("br", null),
                            React.createElement(
                                "div",
                                null,
                                notif.InfoNotification
                            )
                        )
                    )
                )
            )
        );
    }
});
;

var _temp = function () {
    if (typeof __REACT_HOT_LOADER__ === 'undefined') {
        return;
    }
}();

;