{"version":3,"sources":["legacy\\jsx\\core\\store\\Schedule.jsx"],"names":["Fluxbone","require","Messages","NotificationStore","S","URL","BACKEND_URL","ScheduleModel","Model","extend","url","validate","attrs","options","errors","length","ScheduleStore","Store","ACTION_RETRIEVE_MEETINGS","ACTION_RETRIEVE_MY_MEETINGS","ACTION_BOOK_MEETING","ACTION_SAVE_CONFIG","dispatchAcceptRegex","model","retrieveMeetings","params","me","$","ajax","method","dataType","data","UserId","From","To","success","status","opts","trigger","error","errorMsg","handleRequestErrors","retrieveMyMeetings","bookMeeting","CoacheeEmail","CoacheeFullName","CoacheePhone","Subject","Begin","saveConfig","module","exports"],"mappings":"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","file":"Schedule.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["/**\r\n    Esta é a store da entidade de Usuário do sistema.\r\n*/\r\n\r\nvar Fluxbone = require(\"ilevus/jsx/core/store/Fluxbone.jsx\");\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\nvar NotificationStore = require(\"ilevus/jsx/core/store/notifications/Notification.jsx\");\r\nvar S = require(\"string\");\r\n\r\nvar URL = Fluxbone.BACKEND_URL + \"Schedule\";\r\n\r\nvar ScheduleModel = Fluxbone.Model.extend({\r\n\turl: URL,\r\n\tvalidate(attrs, options) {\r\n\t    var errors = [];\r\n\r\n\t\tif (errors.length > 0)\r\n\t\t\treturn errors;\r\n\t}\r\n});\r\n\r\nvar ScheduleStore = Fluxbone.Store.extend({\r\n    ACTION_RETRIEVE_MEETINGS: 'schedule-retrieveMeetings',\r\n    ACTION_RETRIEVE_MY_MEETINGS: 'schedule-retrieveMyMeetings',\r\n    ACTION_BOOK_MEETING: 'schedule-bookMeeting',\r\n    ACTION_SAVE_CONFIG: 'schedule-saveConfig',\r\n    dispatchAcceptRegex: /^schedule-[a-zA-Z0-9]+$/,\r\n\r\n\turl: URL,\r\n\tmodel: ScheduleModel,\r\n\r\n\tretrieveMeetings(params) {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"GET\",\r\n\t        url: me.url + \"/Meetings\",\r\n\t        dataType: 'json',\r\n\t        data: {\r\n\t            UserId: params.UserId,\r\n\t            From: params.From,\r\n\t            To: params.To\r\n\t        },\r\n\t        success(data, status, opts) {\r\n\t            me.trigger(\"retrieve-meetings\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\tretrieveMyMeetings(params) {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"GET\",\r\n\t        url: me.url + \"/MyMeetings\",\r\n\t        dataType: 'json',\r\n\t        success(data, status, opts) {\r\n\t            me.trigger(\"retrieve-my-meetings\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\tbookMeeting(params) {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"POST\",\r\n\t        url: me.url + \"/BookMeeting\",\r\n\t        dataType: 'json',\r\n\t        data: {\r\n\t            UserId: params.UserId,\r\n\t            CoacheeEmail: params.CoacheeEmail,\r\n\t            CoacheeFullName: params.CoacheeFullName,\r\n\t            CoacheePhone: params.CoacheePhone,\r\n\t            Subject: params.Subject,\r\n\t            Begin: params.Begin\r\n\t        },\r\n\t        success(data, status, opts) {\r\n\t            //NotificationStore.dispatch({\r\n\t            //    action: NotificationStore.ACTION_SEND_NOTIFICATION,\r\n\t            //    data: {\r\n\r\n            \r\n\t            //        User_id: params.UserId,\r\n\t            //From: \"\",\r\n\t            //InfoNotification: \"nova notificação de booking\",\r\n\t            //DateNotification: new Date(),\r\n\t            //Status: false\r\n\t        \r\n\r\n\t            //    }\r\n\t            //});\r\n\r\n\r\n\t            me.trigger(\"book-meeting\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\tsaveConfig(params) {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"POST\",\r\n\t        url: me.url + \"/Config\",\r\n\t        dataType: 'json',\r\n\t        data: params,\r\n\t        success(data, status, opts) {\r\n\t            me.trigger(\"save-config\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t}\r\n\r\n});\r\n\r\nmodule.exports = new ScheduleStore();\r\n"]}