{"version":3,"sources":["legacy\\jsx\\core\\widget\\coaching\\SessionHistory.jsx"],"names":["_","require","S","marked","moment","numeral","React","Messages","module","exports","createClass","propTypes","sessions","PropTypes","array","isRequired","current","number","onChange","func","getDefaultProps","noop","getInitialState","selectSession","index","event","preventDefault","props","renderTable","history","length","push","i","get","bind","duration","Finished","diff","Started","durationString","hours","format","minutes","seconds","backgroundColor","render"],"mappings":"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","file":"SessionHistory.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["\r\nvar _ = require(\"underscore\");\r\nvar S = require(\"string\");\r\nvar marked = require(\"marked\");\r\nvar moment = require(\"moment\");\r\nvar numeral = require(\"numeral\");\r\nvar React = require('react');\r\n\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nmodule.exports = React.createClass({\r\n    propTypes: {\r\n        sessions: React.PropTypes.array.isRequired,\r\n        current: React.PropTypes.number.isRequired,\r\n        onChange: React.PropTypes.func.isRequired\r\n    },\r\n    getDefaultProps() {\r\n        return {\r\n            sessions: [],\r\n            onChange: _.noop\r\n        };\r\n    },\r\n    getInitialState() {\r\n        return {\r\n        };\r\n    },\r\n\r\n    selectSession(index, event) {\r\n        event && event.preventDefault();\r\n        this.props.onChange(index);\r\n    },\r\n\r\n    renderTable() {\r\n        var history = [];\r\n        if (this.props.current != (this.props.sessions.length - 1)) {\r\n            history.push(<tr key={\"session-\"+i}>\r\n                <td>\r\n                    <div className=\"font-weight-bold\">{Messages.get('LabelCurrentSession')}</div>\r\n                </td>\r\n                <td className=\"text-right\">\r\n                    <a className=\"ilv-btn ilv-btn-sm ilv-btn-clean px-0\" href=\"#\" onClick={this.selectSession.bind(this, this.props.sessions.length - 1)}>\r\n                        <i className=\"ilv-icon material-icons md-24\">&#xE5CC;</i>\r\n                    </a>\r\n                </td>\r\n            </tr>);\r\n        }\r\n        for (var i = this.props.sessions.length - 2; i >= 0; i--) {\r\n            var duration = moment.duration(moment(this.props.sessions[i].Finished).diff(moment(this.props.sessions[i].Started), \"seconds\"), \"seconds\"),\r\n                durationString = (\r\n                    numeral(duration.hours()).format(\"00\") + \":\" +\r\n                    numeral(duration.minutes()).format(\"00\") + \":\" +\r\n                    numeral(duration.seconds()).format(\"00\")\r\n                )\r\n            ;\r\n            history.push(<tr key={\"session-\"+i}>\r\n                <td>\r\n                    <div className=\"font-weight-bold\">{Messages.get('LabelSession')} {i + 1}</div>\r\n                    <small>{Messages.get('LabelDuration')}: {durationString}</small>\r\n                </td>\r\n                <td className=\"text-right\">\r\n                    <a className=\"ilv-btn ilv-btn-sm ilv-btn-clean px-0\" href=\"#\" onClick={this.selectSession.bind(this, i)}>\r\n                        <i className=\"ilv-icon material-icons md-24\">&#xE5CC;</i>\r\n                    </a>\r\n                </td>\r\n            </tr>);\r\n        }\r\n        return (<table className=\"ilv-table mb-0\">\r\n            <thead>\r\n                <tr style={{backgroundColor: '#f5f7f9'}}>\r\n                    <th className=\"text-center\" colSpan=\"2\"><small className=\"font-weight-bold\">{Messages.get(\"TextSessionHistory\")}</small></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {history}\r\n            </tbody>\r\n        </table>);\r\n    },\r\n\r\n    render() {\r\n        if (!this.props.sessions || (this.props.sessions.length <= 1))\r\n            return <div />;\r\n        return <div className=\"ilv-card mb-5\">\r\n            <div className=\"ilv-card-block\">\r\n                {this.renderTable()}\r\n            </div>\r\n        </div>;\r\n    }\r\n});\r\n"]}