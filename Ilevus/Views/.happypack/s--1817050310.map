{"version":3,"sources":["legacy\\jsx\\core\\widget\\coaching\\SessionTools.jsx"],"names":["_","require","S","React","Link","CoachingTools","Messages","module","exports","createClass","propTypes","isCoach","PropTypes","bool","isRequired","processId","string","session","object","sessionIndex","number","getDefaultProps","renderActiveTools","tools","toolsPath","path","replace","props","get","map","tool","index","labelKey","toolPath","render","activeTools","unactiveTools","i","length","enabled","sessionField","push","className","Status"],"mappings":"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","file":"SessionTools.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["\r\nvar _ = require(\"underscore\");\r\nvar S = require(\"string\");\r\nvar React = require('react');\r\nvar Link = require('react-router').Link;\r\n\r\nvar CoachingTools = require(\"ilevus/jsx/core/store/coaching/Tools.json\");\r\n\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nmodule.exports = React.createClass({\r\n    propTypes: {\r\n        isCoach: React.PropTypes.bool.isRequired,\r\n        processId: React.PropTypes.string.isRequired,\r\n        session: React.PropTypes.object.isRequired,\r\n        sessionIndex: React.PropTypes.number.isRequired,\r\n    },\r\n    getDefaultProps() {\r\n        return {\r\n            processId: null,\r\n            session: null,\r\n            sessionIndex: null\r\n        };\r\n    },\r\n\r\n    renderActiveTools(tools) {\r\n        var toolsPath = CoachingTools.path.replace(\":process\", this.props.processId).replace(\":session\", this.props.sessionIndex);\r\n        return <table className=\"ilv-table ilv-table-sm\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{Messages.get(\"LabelTool\")}</th>\r\n                    <th className=\"text-right\">{Messages.get(\"LabelActions\")}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {tools.map((tool, index) => {\r\n                    return ( <tr key={\"active-tool-\"+index}>\r\n                        <td>{Messages.get(tool.labelKey)}</td>\r\n                        <td className=\"text-right\">\r\n                            <Link to={toolsPath.replace(\":tool\", tool.toolPath)} className=\"ilv-btn ilv-btn-sm ilv-btn-clean mx-0\">\r\n                                <i className=\"ilv-icon material-icons md-18\">&#xE89E;</i>\r\n                            </Link>\r\n                            {/*<button className=\"ilv-btn ilv-btn-sm ilv-btn-clean mx-0\">\r\n                                <i className=\"ilv-icon material-icons md-18\">&#xE5C9;</i>\r\n                            </button>*/}\r\n                        </td>\r\n                    </tr>);\r\n                })}\r\n            </tbody>\r\n        </table>;\r\n    },\r\n\r\n    render() {\r\n        var tools = CoachingTools.tools;\r\n        var activeTools = [];\r\n        var unactiveTools = [];\r\n        for (var i = 0; i < tools.length; i++) {\r\n            if (tools[i].enabled && this.props.session[tools[i].sessionField]) {\r\n                activeTools.push(tools[i]);\r\n            } else {\r\n                unactiveTools.push(tools[i]);\r\n            }\r\n        }\r\n        var toolsPath = CoachingTools.path.replace(\":process\", this.props.processId).replace(\":session\", this.props.sessionIndex);\r\n        return (<div className={this.props.className}>\r\n            <h4>{Messages.get(\"SessionTools\")}</h4>\r\n            <div className=\"ilv-card\">\r\n                <div className=\"ilv-card-body\">\r\n                    {activeTools.length > 0 ? this.renderActiveTools(activeTools):(\r\n                        <i className=\"my-1\">{Messages.get(\"TextNoToolApplied\")}</i>\r\n                    )}\r\n                </div>\r\n                {this.props.isCoach && (this.props.session.Status < 10) && (this.props.session.Status > 0) && (unactiveTools.length > 0) ? <div className=\"ilv-card-footer\">\r\n                    <div className=\"dropdown\">\r\n                        <a className=\"font-weight-bold\" data-toggle=\"dropdown\" href=\"#\">\r\n                            {Messages.get('LabelApplyTool')} <i className=\"material-icons\">&#xE313;</i>\r\n                        </a>\r\n                        <ul className=\"dropdown-menu\">\r\n                            {unactiveTools.map((tool, index) => {\r\n                                return <li className=\"dropdown-item\" key={\"apply-tool-\"+index}>\r\n                                    <Link to={toolsPath.replace(\":tool\", tool.toolPath)}>{Messages.get(tool.labelKey)}</Link>\r\n                                </li>;\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                </div>:\"\"}\r\n             </div>\r\n        </div>);\r\n    }\r\n});\r\n"]}