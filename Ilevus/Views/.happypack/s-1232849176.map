{"version":3,"sources":["legacy\\jsx\\core\\store\\Reports.jsx"],"names":["Fluxbone","require","Messages","S","URL","BACKEND_URL","ReportsModel","Model","extend","url","validate","attrs","options","errors","length","ReportsStore","Store","ACTION_DOWNLOAD_PRODUTIVITY_CSV","dispatchAcceptRegex","model","downloadProductivityCSV","params","me","strHTML","jQuery","appendTo","submit","remove","module","exports"],"mappings":";;AAAA;;;;AAIA,IAAIA,WAAWC,QAAQ,oCAAR,CAAf;AACA,IAAIC,WAAWD,QAAQ,mCAAR,CAAf;AACA,IAAIE,IAAIF,QAAQ,QAAR,CAAR;;AAEA,IAAIG,MAAMJ,SAASK,WAAT,GAAuB,QAAjC;;AAEA,IAAIC,eAAeN,SAASO,KAAT,CAAeC,MAAf,CAAsB;AACrCC,SAAKL,GADgC;AAErCM,YAFqC,oBAE5BC,KAF4B,EAErBC,OAFqB,EAEZ;AACrB,YAAIC,SAAS,EAAb;;AAEA,YAAIA,OAAOC,MAAP,GAAgB,CAApB,EACI,OAAOD,MAAP;AACP;AAPoC,CAAtB,CAAnB;;AAUA,IAAIE,eAAef,SAASgB,KAAT,CAAeR,MAAf,CAAsB;AACrCS,qCAAiC,6BADI;;AAGrCC,yBAAqB,oBAHgB;;AAKrCT,SAAKL,GALgC;AAMrCe,WAAOb,YAN8B;;AASrCc,2BATqC,mCASbC,MATa,EASL;AAC5B,YAAIC,KAAK,IAAT;AACA;;;;;;;;;;;AAWA,YAAIC,UAAU,aAAaF,OAAO,QAAP,CAA3B;AACAE,mBAAW,YAAYF,OAAO,OAAP,CAAvB;AACAE,mBAAW,iBAAiBF,OAAO,YAAP,CAA5B;AACAG,eAAO,mBAAmBF,GAAGb,GAAtB,GAA4B,6BAA5B,GAA4Dc,OAA5D,GAAsE,yCAA7E,EAAwHE,QAAxH,CAAiI,MAAjI,EAAyIC,MAAzI,GAAkJC,MAAlJ;AACH;AA1BoC,CAAtB,CAAnB;;AAgCAC,OAAOC,OAAP,GAAiB,IAAId,YAAJ,EAAjB;;;;;;;;kCA5CIX,G;;kCAEAE,Y;;kCAUAS,Y","file":"Reports.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["/**\r\n    Esta é a store da entidade de Relatórios do sistema.\r\n*/\r\n\r\nvar Fluxbone = require(\"ilevus/jsx/core/store/Fluxbone.jsx\");\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\nvar S = require(\"string\");\r\n\r\nvar URL = Fluxbone.BACKEND_URL + \"Report\";\r\n\r\nvar ReportsModel = Fluxbone.Model.extend({\r\n    url: URL,\r\n    validate(attrs, options) {\r\n        var errors = [];\r\n\r\n        if (errors.length > 0)\r\n            return errors;\r\n    }\r\n});\r\n\r\nvar ReportsStore = Fluxbone.Store.extend({\r\n    ACTION_DOWNLOAD_PRODUTIVITY_CSV: 'rep-downloadProductivityCSV',\r\n\r\n    dispatchAcceptRegex: /^rep-[a-zA-Z0-9]+$/,\r\n\r\n    url: URL,\r\n    model: ReportsModel,\r\n\r\n\r\n    downloadProductivityCSV(params) {\r\n        var me = this;\r\n        /*$.ajax({\r\n            method: \"GET\",\r\n            url: me.url + \"/DownloadProductivityReport\",\r\n            dataType: 'json',\r\n            success(data, status, opts) {\r\n                me.trigger(\"download-productivity-report\", data);\r\n            },\r\n            error(opts, status, errorMsg) {\r\n                me.handleRequestErrors([], opts);\r\n            }\r\n        });*/\r\n        var strHTML = \"?dtInit=\" + params[\"DtInit\"];\r\n        strHTML += \"&dtEnd=\" + params[\"DtEnd\"];\r\n        strHTML += \"&searchTerm=\" + params[\"SearchTerm\"];\r\n        jQuery('<form action=\"' + me.url + '/DownloadProductivityReport' + strHTML + '\" method=\"post\" target=\"_blank\"></form>').appendTo('body').submit().remove();\r\n    }\r\n\r\n});\r\n\r\n\r\n\r\nmodule.exports = new ReportsStore();"]}