{"version":3,"sources":["legacy\\jsx\\core\\widget\\admin\\AdForm.jsx"],"names":["_","require","S","moment","React","Messages","LoadingGauge","ModalAd","UserSession","AdStore","SystemStore","module","exports","createClass","propTypes","ad","PropTypes","object","onSubmit","func","isRequired","onCancel","getDefaultProps","getInitialState","saving","activated","props","Active","keywords","Keywords","componentDidMount","me","on","setState","meeting","config","loading","dispatch","action","ACTION_RETRIEVE_DEFINITIONS","jQuery","maskMoney","thousands","decimal","prefix","allowZero","trigger","componentWillUnmount","off","alertAdInfoSize","dimensao","event","preventDefault","alert","get","replace","cancel","saveAd","ACTION_SAVE","data","Id","undefined","Headline","refs","value","substring","Image_Desktop","Image_Mobile","Image_Desktop_old","Image_Mobile_old","Link","DailyBudgetCap","state","addKeyword","keyword","isEmpty","push","s","forceUpdate","removeKeyword","index","splice","activatedChange","uploadDesktopImage","imageLimitSize","mostrar","uploadMobileImage","render","limitSize","JSON","parse","definitions","AdsMaxSize","pathImage","UrlRetriviedAds","ImageDesktop","width","bind","ImageMobile","parseFloat","toFixed","backgroundColor","length","map"],"mappings":";;AACA,IAAIA,IAAIC,QAAQ,YAAR,CAAR;AACA,IAAIC,IAAID,QAAQ,QAAR,CAAR;AACA,IAAIE,SAASF,QAAQ,QAAR,CAAb;AACA,IAAIG,QAAQH,QAAQ,OAAR,CAAZ;AACA,IAAII,WAAWJ,QAAQ,mCAAR,CAAf;;AAEA,IAAIK,eAAeL,QAAQ,yCAAR,CAAnB;;AAEA,IAAIM,UAAUN,QAAQ,0CAAR,CAAd;;AAEA,IAAIO,cAAcP,QAAQ,uCAAR,CAAlB;AACA,IAAIQ,UAAUR,QAAQ,8BAAR,CAAd;AACA,IAAIS,cAAcT,QAAQ,kCAAR,CAAlB;;AAEAU,OAAOC,OAAP,GAAiBR,MAAMS,WAAN,CAAkB;AAAA;;AAC/BC,eAAW;AACPC,YAAIX,MAAMY,SAAN,CAAgBC,MADb;AAEPC,kBAAUd,MAAMY,SAAN,CAAgBG,IAAhB,CAAqBC,UAFxB;AAGPC,kBAAUjB,MAAMY,SAAN,CAAgBG,IAAhB,CAAqBC;AAHxB,KADoB;AAM/BE,mBAN+B,6BAMb;AACd,eAAO;AACHP,gBAAI,IADD;AAEHG,sBAAU,IAFP;AAGHG,sBAAU;AAHP,SAAP;AAKH,KAZ8B;AAa/BE,mBAb+B,6BAab;AACd,eAAO;AACHC,oBAAQ,KADL;AAEHC,uBAAW,KAAKC,KAAL,CAAWX,EAAX,GAAgB,KAAKW,KAAL,CAAWX,EAAX,CAAcY,MAA9B,GAAuC,KAF/C;AAGHC,sBAAU,KAAKF,KAAL,CAAWX,EAAX,GAAgB,KAAKW,KAAL,CAAWX,EAAX,CAAcc,QAA9B,GAAyC;AAHhD,SAAP;AAKH,KAnB8B;AAqB/BC,qBArB+B,+BAqBX;AAChB,YAAIC,KAAK,IAAT;AACAtB,gBAAQuB,EAAR,CAAW,SAAX,EAAsB,UAACjB,EAAD,EAAQ;AAC1BgB,eAAGE,QAAH,CAAY;AACRT,wBAAQ;AADA,aAAZ;AAGAO,eAAGL,KAAH,CAASR,QAAT,CAAkBH,EAAlB;AACH,SALD,EAKGgB,EALH;AAMAtB,gBAAQuB,EAAR,CAAW,MAAX,EAAmB,UAACE,OAAD,EAAa;AAC5BH,eAAGE,QAAH,CAAY;AACRT,wBAAQ;AADA,aAAZ;AAGH,SAJD,EAIGO,EAJH;AAKArB,oBAAYsB,EAAZ,CAAe,4BAAf,EAA6C,UAACG,MAAD,EAAY;AACrDJ,eAAGE,QAAH,CAAY;AACRG,yBAAS,KADD;AAERD,wBAAQA;AAFA,aAAZ;AAIH,SALD,EAKGJ,EALH;AAMArB,oBAAY2B,QAAZ,CAAqB;AACjBC,oBAAQ5B,YAAY6B;AADH,SAArB;;AAIAC,eAAO,sBAAP,EAA+BC,SAA/B,CAAyC,EAAEC,WAAW,GAAb,EAAkBC,SAAS,GAA3B,EAAgCC,QAAQ,KAAxC,EAA+CC,WAAW,IAA1D,EAAzC;AACAL,eAAO,sBAAP,EAA+BM,OAA/B,CAAuC,gBAAvC;AACH,KA9C8B;AA+C/BC,wBA/C+B,kCA+CR;AACnBtC,gBAAQuC,GAAR,CAAY,IAAZ,EAAkB,IAAlB,EAAwB,IAAxB;AACH,KAjD8B;AAmD/BC,mBAnD+B,2BAmDfC,QAnDe,EAmDLC,KAnDK,EAmDE;AAC7BA,iBAASA,MAAMC,cAAN,EAAT;AACA7C,gBAAQ8C,KAAR,CAAchD,SAASiD,GAAT,CAAa,sBAAb,CAAd,EAAoD;AAAA;AAAA;AAAIjD,qBAASiD,GAAT,CAAa,oBAAb,EAAmCC,OAAnC,CAA2C,KAA3C,EAAkDL,QAAlD;AAAJ,SAApD,EACA,eADA;AAEH,KAvD8B;AAyD/BM,UAzD+B,kBAyDxBL,KAzDwB,EAyDjB;AACVA,iBAASA,MAAMC,cAAN,EAAT;AACA,aAAK1B,KAAL,CAAWL,QAAX;AACH,KA5D8B;AA6D/BoC,UA7D+B,kBA6DxBN,KA7DwB,EA6DjB;AACVA,iBAASA,MAAMC,cAAN,EAAT;AACA,aAAKnB,QAAL,CAAc;AACVT,oBAAQ;AADE,SAAd;AAGAf,gBAAQ4B,QAAR,CAAiB;AACbC,oBAAQ7B,QAAQiD,WADH;AAEbC,kBAAM;AACFC,oBAAI,KAAKlC,KAAL,CAAWX,EAAX,GAAgB,KAAKW,KAAL,CAAWX,EAAX,CAAc6C,EAA9B,GAAmCC,SADrC;AAEFC,0BAAU,KAAKC,IAAL,CAAU,UAAV,EAAsBC,KAAtB,CAA4BC,SAA5B,CAAsC,CAAtC,EAAyC,GAAzC,CAFR;AAGF;AACAC,+BAAe,KAAKH,IAAL,CAAU,eAAV,EAA2BC,KAJxC;AAKFG,8BAAc,KAAKJ,IAAL,CAAU,cAAV,EAA0BC,KALtC;AAMFI,mCAAmB,KAAKL,IAAL,CAAU,mBAAV,EAA+BC,KANhD;AAOFK,kCAAkB,KAAKN,IAAL,CAAU,kBAAV,EAA8BC,KAP9C;AAQFM,sBAAM,KAAKP,IAAL,CAAU,MAAV,EAAkBC,KARtB;AASFO,gCAAgB,KAAKR,IAAL,CAAU,gBAAV,EAA4BC,KAT1C;AAUFrC,wBAAQ,KAAK6C,KAAL,CAAW/C,SAVjB;AAWFI,0BAAU,KAAK2C,KAAL,CAAW5C;AAXnB;AAFO,SAAjB;AAgBH,KAlF8B;AAoF/B6C,cApF+B,sBAoFpBtB,KApFoB,EAoFb;AACdA,iBAASA,MAAMC,cAAN,EAAT;AACA,YAAIsB,UAAUxE,EAAE,KAAK6D,IAAL,CAAU,SAAV,EAAqBC,KAAvB,CAAd;AACA,YAAI,CAACU,QAAQC,OAAR,EAAL,EAAwB;AACpB,iBAAKH,KAAL,CAAW5C,QAAX,CAAoBgD,IAApB,CAAyBF,QAAQG,CAAjC;AACA,iBAAKd,IAAL,CAAU,SAAV,EAAqBC,KAArB,GAA6B,EAA7B;AACA,iBAAKc,WAAL;AACH;AACJ,KA5F8B;AA6F/BC,iBA7F+B,yBA6FjBC,KA7FiB,EA6FV7B,KA7FU,EA6FH;AACxBA,iBAASA,MAAMC,cAAN,EAAT;AACA,aAAKoB,KAAL,CAAW5C,QAAX,CAAoBqD,MAApB,CAA2BD,KAA3B,EAAkC,CAAlC;AACA,aAAKF,WAAL;AACH,KAjG8B;AAkG/BI,mBAlG+B,6BAkGb;AACd,aAAKjD,QAAL,CAAc;AACVR,uBAAW,CAAC,KAAK+C,KAAL,CAAW/C;AADb,SAAd;AAGH,KAtG8B;AAwG/B0D,sBAxG+B,8BAwGZC,cAxGY,EAwGIjC,KAxGJ,EAwGW;AACtCA,iBAASA,MAAMC,cAAN,EAAT;AACA7C,gBAAQ8E,OAAR,CAAgBD,cAAhB,EAAgC/E,SAASiD,GAAT,CAAa,wBAAb,CAAhC,EAAwE;AAAA;AAAA;AAAIjD,qBAASiD,GAAT,CAAa,sBAAb;AAAJ,SAAxE,EAAuH,eAAvH,EAAwI,KAAxI;AACH,KA3G8B;AA4G/BgC,qBA5G+B,6BA4GbF,cA5Ga,EA4GGjC,KA5GH,EA4GU;AACrCA,iBAASA,MAAMC,cAAN,EAAT;AACA7C,gBAAQ8E,OAAR,CAAgBD,cAAhB,EAAgC/E,SAASiD,GAAT,CAAa,uBAAb,CAAhC,EAAuE;AAAA;AAAA;AAAIjD,qBAASiD,GAAT,CAAa,qBAAb;AAAJ,SAAvE,EAAqH,cAArH,EAAqI,IAArI;AACH,KA/G8B;AAiH/BiC,UAjH+B,oBAiHtB;AAAA;;AAEL,YAAI,CAAC,KAAKf,KAAL,CAAWrC,MAAhB,EACI,OAAO,oBAAC,YAAD,OAAP;;AAGJ,YAAIqD,YAAa,KAAKhB,KAAL,CAAWrC,MAAX,GAAoBsD,KAAKC,KAAL,CAAW,KAAKlB,KAAL,CAAWrC,MAAX,CAAkBwD,WAA7B,EAA0CC,UAA9D,GAA2E,CAA5F;AACA,YAAIC,YAAa,KAAKrB,KAAL,CAAWrC,MAAX,GAAoBsD,KAAKC,KAAL,CAAW,KAAKlB,KAAL,CAAWrC,MAAX,CAAkBwD,WAA7B,EAA0CG,eAA9D,GAAgF,EAAjG;;AAEA,eACI;AAAA;AAAA,cAAK,WAAU,KAAf;AACA;AAAA;AAAA,kBAAK,WAAU,KAAf;AACI;AAAA;AAAA;AAAK,qBAAC,KAAKpE,KAAL,CAAWX,EAAZ,GAAiBV,SAASiD,GAAT,CAAa,YAAb,CAAjB,GAA8CjD,SAASiD,GAAT,CAAa,aAAb;AAAnD,iBADJ;AAEI;AAAA;AAAA,sBAAM,UAAU,KAAKG,MAArB;AACI;AAAA;AAAA,0BAAK,WAAU,gBAAf;AACI;AAAA;AAAA,8BAAO,WAAU,gBAAjB;AAAmCpD,qCAASiD,GAAT,CAAa,eAAb;AAAnC,yBADJ;AAEI,uDAAO,WAAU,kBAAjB,EAAoC,MAAK,MAAzC,EAAgD,YAAY,KAA5D,EAAmE,KAAI,UAAvE,EAAkF,WAAU,KAA5F,EAAkG,cAAc,KAAK5B,KAAL,CAAWX,EAAX,GAAgB,KAAKW,KAAL,CAAWX,EAAX,CAAc+C,QAA9B,GAAyC,EAAzJ;AAFJ,qBADJ;AAKI;AAAA;AAAA,0BAAK,WAAU,gBAAf;AACI;AAAA;AAAA,8BAAO,WAAU,gBAAjB;AAAmCzD,qCAASiD,GAAT,CAAa,qBAAb;AAAnC,yBADJ;AAGQ;AAAA;AAAA,8BAAO,IAAG,mBAAV;AAA+B,iCAAK5B,KAAL,CAAWX,EAAX,GAAgB,6BAAK,KAAK,CAAC,KAAKyD,KAAL,CAAWrC,MAAX,GAAoBsD,KAAKC,KAAL,CAAW,KAAKlB,KAAL,CAAWrC,MAAX,CAAkBwD,WAA7B,EAA0CG,eAA9D,GAAgF,EAAjF,IAAuF,KAAKpE,KAAL,CAAWX,EAAX,CAAcgF,YAA/G,EAA6H,OAAO,EAAEC,OAAO,OAAT,EAApI,GAAhB,GAA8K;AAA7M,yBAHR;AAGgO,uDAHhO;AAIQ;AAAA;AAAA,8BAAQ,WAAU,yBAAlB,EAA4C,SAAS,KAAKb,kBAAL,CAAwBc,IAAxB,CAA6B,IAA7B,EAAmCT,SAAnC,CAArD;AAAsGnF,qCAASiD,GAAT,CAAa,wBAAb;AAAtG,yBAJR;AAAA;AAKoB;AAAA;AAAA,8BAAG,MAAK,cAAR,EAAuB,SAAS,KAAKL,eAAL,CAAqBgD,IAArB,CAA0B,IAA1B,EAAgC,eAAhC,CAAhC;AAAkF;AAAA;AAAA,kCAAG,WAAU,yBAAb;AAAA;AAAA;AAAlF,yBALpB;AAOI,uDAAO,MAAK,QAAZ,EAAqB,IAAG,mBAAxB,EAA4C,KAAI,mBAAhD,EAAoE,cAAc,KAAKvE,KAAL,CAAWX,EAAX,GAAgB,KAAKW,KAAL,CAAWX,EAAX,CAAcgF,YAA9B,GAA6C,EAA/H,GAPJ;AAQI,uDAAO,MAAK,QAAZ,EAAqB,KAAI,eAAzB,EAAyC,IAAG,eAA5C;AARJ,qBALJ;AAgBI;AAAA;AAAA,0BAAK,WAAU,gBAAf;AACI;AAAA;AAAA,8BAAO,WAAU,gBAAjB;AAAmC1F,qCAASiD,GAAT,CAAa,oBAAb;AAAnC,yBADJ;AAGQ;AAAA;AAAA,8BAAO,IAAG,kBAAV;AAA8B,iCAAK5B,KAAL,CAAWX,EAAX,GAAgB,6BAAK,KAAK,CAAC,KAAKyD,KAAL,CAAWrC,MAAX,GAAoBsD,KAAKC,KAAL,CAAW,KAAKlB,KAAL,CAAWrC,MAAX,CAAkBwD,WAA7B,EAA0CG,eAA9D,GAAgF,EAAjF,IAAuF,KAAKpE,KAAL,CAAWX,EAAX,CAAcmF,WAA/G,EAA4H,OAAO,EAAEF,OAAO,OAAT,EAAnI,GAAhB,GAA6K;AAA3M,yBAHR;AAG8N,uDAH9N;AAIQ;AAAA;AAAA,8BAAQ,WAAU,yBAAlB,EAA4C,SAAS,KAAKV,iBAAL,CAAuBW,IAAvB,CAA4B,IAA5B,EAAkCT,SAAlC,CAArD;AAAqGnF,qCAASiD,GAAT,CAAa,uBAAb;AAArG,yBAJR;AAAA;AAKoB;AAAA;AAAA,8BAAG,MAAK,cAAR,EAAuB,SAAS,KAAKL,eAAL,CAAqBgD,IAArB,CAA0B,IAA1B,EAAgC,eAAhC,CAAhC;AAAkF;AAAA;AAAA,kCAAG,WAAU,yBAAb;AAAA;AAAA;AAAlF,yBALpB;AAOI,uDAAO,MAAK,QAAZ,EAAqB,IAAG,kBAAxB,EAA2C,KAAI,kBAA/C,EAAkE,cAAc,KAAKvE,KAAL,CAAWX,EAAX,GAAgB,KAAKW,KAAL,CAAWX,EAAX,CAAcmF,WAA9B,GAA4C,EAA5H,GAPJ;AAQI,uDAAO,MAAK,QAAZ,EAAqB,KAAI,cAAzB,EAAwC,IAAG,cAA3C;AARJ,qBAhBJ;AA2BQ;AAAA;AAAA,0BAAK,WAAU,gBAAf;AACI;AAAA;AAAA,8BAAO,WAAU,gBAAjB;AAAmC7F,qCAASiD,GAAT,CAAa,YAAb;AAAnC,yBADJ;AAEI,uDAAO,WAAU,kBAAjB,EAAoC,MAAK,KAAzC,EAA+C,YAAY,KAA3D,EAAkE,KAAI,MAAtE,EAA6E,cAAc,KAAK5B,KAAL,CAAWX,EAAX,GAAgB,KAAKW,KAAL,CAAWX,EAAX,CAAcuD,IAA9B,GAAmC,EAA9H;AAFJ,qBA3BR;AAgCQ;AAAA;AAAA,0BAAK,WAAU,gBAAf;AACI;AAAA;AAAA,8BAAO,WAAU,gBAAjB;AAAmCjE,qCAASiD,GAAT,CAAa,uBAAb;AAAnC,yBADJ;AAEI,uDAAO,WAAU,kBAAjB,EAAoC,MAAK,MAAzC,EAAgD,YAAY,KAA5D,EAAmE,IAAG,qBAAtE,EAA4F,KAAI,gBAAhG,EAAiH,cAAc,KAAK5B,KAAL,CAAWX,EAAX,GAAgBoF,WAAW,KAAKzE,KAAL,CAAWX,EAAX,CAAcwD,cAAzB,EAAyC6B,OAAzC,CAAiD,CAAjD,CAAhB,GAAsED,WAAW,CAAX,EAAcC,OAAd,CAAsB,CAAtB,CAArM;AAFJ,qBAhCR;AAqCI;AAAA;AAAA,0BAAU,WAAU,gBAApB;AACI;AAAA;AAAA,8BAAO,WAAU,gBAAjB;AAAmC/F,qCAASiD,GAAT,CAAa,eAAb;AAAnC,yBADJ;AAEI;AAAA;AAAA,8BAAK,WAAU,iBAAf;AACI,2DAAO,WAAU,kBAAjB,EAAoC,MAAK,MAAzC,EAAgD,YAAY,KAA5D,EAAmE,KAAI,SAAvE,GADJ;AAEI;AAAA;AAAA,kCAAK,WAAU,qBAAf;AACI;AAAA;AAAA,sCAAQ,WAAU,iDAAlB,EAAoE,SAAS,KAAKmB,UAAlF;AACI;AAAA;AAAA,0CAAG,WAAU,+BAAb;AAAA;AAAA;AADJ;AADJ;AAFJ,yBAFJ;AAUI;AAAA;AAAA,8BAAK,WAAU,wCAAf,EAAwD,OAAO,EAAE4B,iBAAiB,SAAnB,EAA/D,EAA+F,UAAU,IAAzG;AACK,iCAAK7B,KAAL,CAAW5C,QAAX,CAAoB0E,MAApB,IAA8B,CAA9B,GACO;AAAA;AAAA;AAAIjG,yCAASiD,GAAT,CAAa,wBAAb;AAAJ,6BADP,GAGO,KAAKkB,KAAL,CAAW5C,QAAX,CAAoB2E,GAApB,CAAwB,UAAC7B,OAAD,EAAUM,KAAV,EAAoB;AACxC,uCAAO;AAAA;AAAA,sCAAM,WAAU,SAAhB,EAA0B,KAAK,aAAaA,KAA5C;AACNN,2CADM;AACE;AAAA;AAAA,0CAAG,OAAOrE,SAASiD,GAAT,CAAa,cAAb,CAAV,EAAwC,SAAS,MAAKyB,aAAL,CAAmBkB,IAAnB,QAA8BjB,KAA9B,CAAjD;AAAA;AAAA;AADF,iCAAP;AAGH,6BAJD;AAJZ;AAVJ,qBArCJ;AA4DI;AAAA;AAAA,0BAAK,WAAU,gBAAf;AACQ;AAAA;AAAA,8BAAK,WAAU,cAAf;AACpB;AAAA;AAAA,kCAAO,SAAQ,cAAf;AACC,+DAAO,WAAU,mBAAjB,EAAqC,MAAK,UAA1C,EAAqD,IAAG,cAAxD,EAAuE,MAAK,cAA5E,EAA2F,UAAU,KAAKE,eAA1G,EAA2H,SAAS,KAAKV,KAAL,CAAW/C,SAA/I,GADD;AAE4B,8DAAM,WAAU,uBAAhB,GAF5B;AAG4B;AAAA;AAAA,sCAAM,WAAU,mBAAhB;AAAqCpB,6CAASiD,GAAT,CAAa,kBAAb;AAArC;AAH5B;AADoB;AADR,qBA5DJ;AAsEI,mDAAO,WAAU,oCAAjB,EAAsD,MAAK,QAA3D,EAAoE,OAAOjD,SAASiD,GAAT,CAAa,WAAb,CAA3E,EAAsG,UAAU,KAAKkB,KAAL,CAAWhD,MAA3H,GAtEJ;AAuEI,mDAAO,WAAU,kCAAjB,EAAoD,MAAK,QAAzD,EAAkE,OAAOnB,SAASiD,GAAT,CAAa,aAAb,CAAzE,EAAsG,SAAS,KAAKE,MAApH;AAvEJ;AAFJ;AADA,SADJ;AAgFH;AA1M8B,CAAlB,CAAjB","file":"AdForm.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["\r\nvar _ = require(\"underscore\");\r\nvar S = require(\"string\");\r\nvar moment = require(\"moment\");\r\nvar React = require(\"react\");\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nvar LoadingGauge = require(\"ilevus/jsx/core/widget/LoadingGauge.jsx\");\r\n\r\nvar ModalAd = require(\"ilevus/jsx/core/widget/admin/AdModal.jsx\");\r\n\r\nvar UserSession = require(\"ilevus/jsx/core/store/UserSession.jsx\");\r\nvar AdStore = require(\"ilevus/jsx/core/store/Ad.jsx\");\r\nvar SystemStore = require(\"ilevus/jsx/core/store/System.jsx\");\r\n\r\nmodule.exports = React.createClass({\r\n    propTypes: {\r\n        ad: React.PropTypes.object,\r\n        onSubmit: React.PropTypes.func.isRequired,\r\n        onCancel: React.PropTypes.func.isRequired\r\n    },\r\n    getDefaultProps() {\r\n        return {\r\n            ad: null,\r\n            onSubmit: null,\r\n            onCancel: null\r\n        };\r\n    },\r\n    getInitialState() {\r\n        return {\r\n            saving: false,\r\n            activated: this.props.ad ? this.props.ad.Active : false,\r\n            keywords: this.props.ad ? this.props.ad.Keywords : []\r\n        };\r\n    },\r\n\r\n    componentDidMount() {\r\n        var me = this;\r\n        AdStore.on(\"save-ad\", (ad) => {\r\n            me.setState({\r\n                saving: false\r\n            });\r\n            me.props.onSubmit(ad);\r\n        }, me);\r\n        AdStore.on(\"fail\", (meeting) => {\r\n            me.setState({\r\n                saving: false\r\n            });\r\n        }, me);\r\n        SystemStore.on(\"retrieve-definition-config\", (config) => {\r\n            me.setState({\r\n                loading: false,\r\n                config: config\r\n            });\r\n        }, me);\r\n        SystemStore.dispatch({\r\n            action: SystemStore.ACTION_RETRIEVE_DEFINITIONS\r\n        });\r\n\r\n        jQuery(\"#txtbxDailyBudgetCap\").maskMoney({ thousands: \".\", decimal: \",\", prefix: \"R$ \", allowZero: true });\r\n        jQuery(\"#txtbxDailyBudgetCap\").trigger('mask.maskMoney');\r\n    },\r\n    componentWillUnmount() {\r\n        AdStore.off(null, null, this);\r\n    },\r\n\r\n    alertAdInfoSize(dimensao, event) {\r\n        event && event.preventDefault();\r\n        ModalAd.alert(Messages.get(\"ActionAdImageMaxSize\"), <p>{Messages.get(\"TextAdImageMaxSize\").replace(\"{0}\", dimensao)}</p>,\r\n        \"image_desktop\");\r\n    },\r\n\r\n    cancel(event) {\r\n        event && event.preventDefault();\r\n        this.props.onCancel();\r\n    },\r\n    saveAd(event) {\r\n        event && event.preventDefault();\r\n        this.setState({\r\n            saving: true\r\n        });\r\n        AdStore.dispatch({\r\n            action: AdStore.ACTION_SAVE,\r\n            data: {\r\n                Id: this.props.ad ? this.props.ad.Id : undefined,\r\n                Headline: this.refs['headline'].value.substring(0, 100),\r\n                //Image: this.refs['image'].value,\r\n                Image_Desktop: this.refs['image_desktop'].value,\r\n                Image_Mobile: this.refs['image_mobile'].value,\r\n                Image_Desktop_old: this.refs['image_desktop_old'].value,\r\n                Image_Mobile_old: this.refs['image_mobile_old'].value,\r\n                Link: this.refs['link'].value,\r\n                DailyBudgetCap: this.refs['DailyBudgetCap'].value,\r\n                Active: this.state.activated,\r\n                Keywords: this.state.keywords\r\n            }\r\n        });\r\n    },\r\n\r\n    addKeyword(event) {\r\n        event && event.preventDefault();\r\n        var keyword = S(this.refs['keyword'].value);\r\n        if (!keyword.isEmpty()) {\r\n            this.state.keywords.push(keyword.s);\r\n            this.refs['keyword'].value = \"\";\r\n            this.forceUpdate();\r\n        }\r\n    },\r\n    removeKeyword(index, event) {\r\n        event && event.preventDefault();\r\n        this.state.keywords.splice(index, 1);\r\n        this.forceUpdate();\r\n    },\r\n    activatedChange() {\r\n        this.setState({\r\n            activated: !this.state.activated\r\n        });\r\n    },\r\n    \r\n    uploadDesktopImage(imageLimitSize, event) {\r\n        event && event.preventDefault();\r\n        ModalAd.mostrar(imageLimitSize, Messages.get(\"ActionSendImageDesktop\"), <p>{Messages.get(\"TextSendImageDesktop\")}</p>, \"image_desktop\", false);\r\n    },\r\n    uploadMobileImage(imageLimitSize, event) {\r\n        event && event.preventDefault();\r\n        ModalAd.mostrar(imageLimitSize, Messages.get(\"ActionSendImageMobile\"), <p>{Messages.get(\"TextSendImageMobile\")}</p>, \"image_mobile\", true);\r\n    },\r\n\r\n    render() {\r\n\r\n        if (!this.state.config)\r\n            return <LoadingGauge />;\r\n        \r\n\r\n        var limitSize = (this.state.config ? JSON.parse(this.state.config.definitions).AdsMaxSize : 0);\r\n        var pathImage = (this.state.config ? JSON.parse(this.state.config.definitions).UrlRetriviedAds : \"\");\r\n        \r\n        return (\r\n            <div className=\"row\">\r\n            <div className=\"col\">\r\n                <h4>{!this.props.ad ? Messages.get(\"LabelNewAd\") : Messages.get(\"LabelEditAd\")}</h4>\r\n                <form onSubmit={this.saveAd }>\r\n                    <div className=\"ilv-form-group\">\r\n                        <label className=\"ilv-form-label\">{Messages.get(\"LabelHeadline\")}</label>\r\n                        <input className=\"ilv-form-control\" type=\"text\" spellCheck={false} ref=\"headline\" maxLength=\"100\" defaultValue={this.props.ad ? this.props.ad.Headline : \"\" } />\r\n                    </div>\r\n                    <div className=\"ilv-form-group\">\r\n                        <label className=\"ilv-form-label\">{Messages.get(\"LabelAdImageDesktop\")}</label>\r\n\r\n                            <labal id=\"lbl_image_desktop\">{this.props.ad ? <img src={(this.state.config ? JSON.parse(this.state.config.definitions).UrlRetriviedAds : \"\") + this.props.ad.ImageDesktop} style={{ width: \"150px\" } } /> : \"\"}</labal><br />\r\n                            <button className=\"ilv-btn ilv-btn-neutral\" onClick={this.uploadDesktopImage.bind(this, limitSize) }>{Messages.get(\"ActionSendImageDesktop\")}</button>\r\n                            &nbsp;&nbsp;<a href=\"javascript:;\" onClick={this.alertAdInfoSize.bind(this, \"240px X 475px\")}><i className=\"fa fa-2x fa-info-circle\"> </i></a>\r\n\r\n                        <input type=\"hidden\" id=\"image_desktop_old\" ref=\"image_desktop_old\" defaultValue={this.props.ad ? this.props.ad.ImageDesktop : \"\" } />\r\n                        <input type=\"hidden\" ref=\"image_desktop\" id=\"image_desktop\" />\r\n                    </div>\r\n\r\n                    <div className=\"ilv-form-group\">\r\n                        <label className=\"ilv-form-label\">{Messages.get(\"LabelAdImageMobile\")}</label>\r\n\r\n                            <labal id=\"lbl_image_mobile\">{this.props.ad ? <img src={(this.state.config ? JSON.parse(this.state.config.definitions).UrlRetriviedAds : \"\") + this.props.ad.ImageMobile} style={{ width: \"150px\" } } /> : \"\"}</labal><br />\r\n                            <button className=\"ilv-btn ilv-btn-neutral\" onClick={this.uploadMobileImage.bind(this, limitSize) }>{Messages.get(\"ActionSendImageMobile\")}</button>\r\n                            &nbsp;&nbsp;<a href=\"javascript:;\" onClick={this.alertAdInfoSize.bind(this, \"280px X 115px\")}><i className=\"fa fa-2x fa-info-circle\"> </i></a>\r\n\r\n                        <input type=\"hidden\" id=\"image_mobile_old\" ref=\"image_mobile_old\" defaultValue={this.props.ad ? this.props.ad.ImageMobile : \"\"} />\r\n                        <input type=\"hidden\" ref=\"image_mobile\" id=\"image_mobile\" />\r\n                    </div>\r\n\r\n                        <div className=\"ilv-form-group\">\r\n                            <label className=\"ilv-form-label\">{Messages.get(\"LabelAdUrl\")}</label>\r\n                            <input className=\"ilv-form-control\" type=\"url\" spellCheck={false} ref=\"link\" defaultValue={this.props.ad ? this.props.ad.Link:\"\"} />\r\n                        </div>\r\n\r\n                        <div className=\"ilv-form-group\">\r\n                            <label className=\"ilv-form-label\">{Messages.get(\"LabelAdDailyBudgetCap\")}</label>\r\n                            <input className=\"ilv-form-control\" type=\"text\" spellCheck={false} id=\"txtbxDailyBudgetCap\" ref=\"DailyBudgetCap\" defaultValue={this.props.ad ? parseFloat(this.props.ad.DailyBudgetCap).toFixed(2) : parseFloat(0).toFixed(2)} />\r\n                        </div>                        \r\n\r\n                    <fieldset className=\"ilv-form-group\">\r\n                        <label className=\"ilv-form-label\">{Messages.get(\"LabelKeywords\")}</label>\r\n                        <div className=\"ilv-input-group\">\r\n                            <input className=\"ilv-form-control\" type=\"text\" spellCheck={false} ref=\"keyword\" />\r\n                            <div className=\"ilv-input-group-btn\">\r\n                                <button className=\"ilv-btn ilv-btn-lg ilv-btn-icon ilv-btn-success\" onClick={this.addKeyword }>\r\n                                    <i className=\"ilv-icon material-icons md-24\">&#xE145;</i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"ilv-tag-input m-b-1 ilv-text-xs-center\" style={{ backgroundColor: '#f5f7f9' }} readOnly={true }>\r\n                            {this.state.keywords.length == 0 ?\r\n                                    <i>{Messages.get(\"TextNoKeywordsAddedYet\")}</i>\r\n                                    :\r\n                                    this.state.keywords.map((keyword, index) => {\r\n                                        return <span className=\"ilv-tag\" key={\"keyword-\" + index }>\r\n                                        {keyword}<a title={Messages.get(\"ActionRemove\")} onClick={this.removeKeyword.bind(this, index) }>&times;</a>\r\n                                    </span>;\r\n                                    })\r\n}\r\n                        </div>\r\n                    </fieldset>\r\n\r\n                    <div className=\"ilv-form-group\">\r\n                            <div className=\"ilv-checkbox\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"ad-activated\">\r\n\t\t\t\t\t\t\t\t\t<input className=\"ilv-control-input\" type=\"checkbox\" id=\"ad-activated\" name=\"ad-activated\" onChange={this.activatedChange} checked={this.state.activated } />\r\n                                    <span className=\"ilv-control-indicator\"></span>\r\n                                    <span className=\"ilv-control-label\">{Messages.get(\"LabelAdActivated\")}</span>\r\n\t\t\t\t\t\t\t\t</label>\r\n                            </div>\r\n                    </div>\r\n\r\n                    <input className=\"ilv-btn ilv-btn-lg ilv-btn-primary\" type=\"submit\" value={Messages.get(\"LabelSave\")} disabled={this.state.saving } />\r\n                    <input className=\"ilv-btn ilv-btn-lg ilv-btn-clean\" type=\"button\" value={Messages.get(\"LabelCancel\")} onClick={this.cancel } />\r\n                </form>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n});\r\n\r\n"]}