{"version":3,"sources":["legacy\\jsx\\core\\store\\System.jsx"],"names":["Fluxbone","require","Messages","S","URL","BACKEND_URL","SystemConfigModel","Model","extend","url","validate","attrs","options","errors","length","SystemStore","Store","ACTION_RETRIEVE_MESSAGES","ACTION_RETRIEVE_CONFIG","ACTION_UPDATE_CONFIG_EMAIL","ACTION_UPDATE_CONFIG_APIS","ACTION_RETRIEVE_DEFINITIONS","ACTION_UPDATE_DEFINITIONS","ACTION_ADD_TRANSLATION_KEY","ACTION_REVIEW_TRANSLATION_KEY","ACTION_UPDATE_TRANSLATION","ACTION_SYNC_TRANSLATIONS","dispatchAcceptRegex","model","addTranslationKey","key","me","$","ajax","method","success","trigger","error","opts","status","errorMsg","handleRequestErrors","reviewTranslationKey","params","data","updateTranslation","retrieveMessages","dataType","retrieveConfig","updateConfigEmail","which","updateConfigApis","syncTranslations","contentType","JSON","stringify","retrieveDefinitionsConfig","updateDefinitionsConfigs","module","exports"],"mappings":"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","file":"System.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["/**\r\n    Esta é a store da entidade de Usuário do sistema.\r\n*/\r\n\r\nvar Fluxbone = require(\"ilevus/jsx/core/store/Fluxbone.jsx\");\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\nvar S = require(\"string\");\r\n\r\nvar URL = Fluxbone.BACKEND_URL+\"System\";\r\n\r\nvar SystemConfigModel = Fluxbone.Model.extend({\r\n\turl: URL,\r\n\tvalidate(attrs, options) {\r\n\t    var errors = [];\r\n\r\n\t\tif (errors.length > 0)\r\n\t\t\treturn errors;\r\n\t}\r\n});\r\n\r\nvar SystemStore = Fluxbone.Store.extend({\r\n    ACTION_RETRIEVE_MESSAGES: 'system-retrieveMessages',\r\n    ACTION_RETRIEVE_CONFIG: 'system-retrieveConfig',\r\n    ACTION_UPDATE_CONFIG_EMAIL: 'system-updateConfigEmail',\r\n    ACTION_UPDATE_CONFIG_APIS: 'system-updateConfigApis',\r\n\r\n    ACTION_RETRIEVE_DEFINITIONS: 'system-retrieveDefinitionsConfig',\r\n    ACTION_UPDATE_DEFINITIONS: 'system-updateDefinitionsConfigs',\r\n\r\n    ACTION_ADD_TRANSLATION_KEY: \"system-addTranslationKey\",\r\n    ACTION_REVIEW_TRANSLATION_KEY: \"system-reviewTranslationKey\",\r\n    ACTION_UPDATE_TRANSLATION: \"system-updateTranslation\",\r\n    ACTION_SYNC_TRANSLATIONS: \"system-syncTranslations\",\r\n    dispatchAcceptRegex: /^system-[a-zA-Z0-9]+$/,\r\n\r\n\turl: URL,\r\n\tmodel: SystemConfigModel,\r\n\r\n\taddTranslationKey(key) {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"POST\",\r\n\t        url: BACKEND_URL + \"Messages/Report?key=\" + key,\r\n\t        success() {\r\n\t            me.trigger(\"add-translation-key\");\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\treviewTranslationKey(params) {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"POST\",\r\n\t        url: me.url + \"/Messages/Review\",\r\n\t        data: params,\r\n\t        success() {\r\n\t            me.trigger(\"review-translation-key\");\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\tupdateTranslation(params) {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"POST\",\r\n\t        url: me.url + \"/Messages\",\r\n            data: params,\r\n\t        success() {\r\n\t            me.trigger(\"update-translation\");\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\tretrieveMessages() {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"GET\",\r\n\t        url: me.url + \"/Messages\",\r\n\t        dataType: 'json',\r\n\t        success(data, status, opts) {\r\n\t            me.trigger(\"retrieve-messages\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\tretrieveConfig() {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"GET\",\r\n\t        url: me.url + \"/Config\",\r\n\t        dataType: 'json',\r\n\t        success(data, status, opts) {\r\n\t            me.trigger(\"retrieve-config\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\tupdateConfigEmail(params) {\r\n\t    var me = this;\r\n\t    var which = params.which;\r\n\t    delete params.which;\r\n\t    $.ajax({\r\n\t        method: \"POST\",\r\n\t        url: me.url + \"/Config/\"+which,\r\n\t        dataType: 'json',\r\n\t        data: params,\r\n\t        success(data, status, opts) {\r\n\t            me.trigger(\"update-config-email\", data);\r\n\t            me.trigger(\"retrieve-config\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\tupdateConfigApis(params) {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"POST\",\r\n\t        url: me.url + \"/Config/Apis\",\r\n\t        dataType: 'json',\r\n\t        data: params,\r\n\t        success(data, status, opts) {\r\n\t            me.trigger(\"update-config-apis\", data);\r\n\t            me.trigger(\"retrieve-config\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\tsyncTranslations(params) {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"POST\",\r\n\t        url: me.url + \"/Messages/Sync\",\r\n\t        dataType: 'json',\r\n            contentType: \"application/json\",\r\n\t        data: JSON.stringify(params),\r\n\t        success(data, status, opts) {\r\n\t            me.trigger(\"translations-synced\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\r\n\tretrieveDefinitionsConfig() {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"GET\",\r\n\t        url: me.url + \"/Config/RetriveDefinitions\",\r\n\t        dataType: 'json',\r\n\t        success(data, status, opts) {\r\n\t            me.trigger(\"retrieve-definition-config\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t},\r\n\r\n\tupdateDefinitionsConfigs(params) {\r\n\t    var me = this;\r\n\t    $.ajax({\r\n\t        method: \"POST\",\r\n\t        url: me.url + \"/Config/Definitions\",\r\n\t        dataType: 'json',\r\n\t        contentType: \"application/json\",\r\n\t        data: JSON.stringify(params),\r\n\t        success(data, status, opts) {\r\n\t            me.trigger(\"update-system-definition\", data);\r\n\t        },\r\n\t        error(opts, status, errorMsg) {\r\n\t            me.handleRequestErrors([], opts);\r\n\t        }\r\n\t    });\r\n\t}\r\n\r\n});\r\n\r\nmodule.exports = new SystemStore();\r\n"]}