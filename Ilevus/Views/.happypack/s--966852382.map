{"version":3,"sources":["legacy\\jsx\\core\\view\\user\\coaching\\CoachingProcesses.jsx"],"names":["moment","require","React","Link","Toastr","Messages","CoachingStore","UserSession","LoadingGauge","string","UserIcon","module","exports","createClass","contextTypes","router","PropTypes","object","getInitialState","asCoach","asCoachee","loaded","componentDidMount","me","on","processes","setState","state","refreshProcesses","componentWillUnmount","off","dispatch","action","ACTION_RETRIEVE_COACH_PROCESSES","ACTION_RETRIEVE_COACHEE_PROCESSES","renderProcesses","get","map","process","index","console","log","display","Coachee","Coach","statusEl","Status","backgroundImage","Image","isEmpty","Name","Surname","Sessions","length","Id","render"],"mappings":"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","file":"CoachingProcesses.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["var moment = require(\"moment\");\r\nvar React = require('react');\r\nvar Link = require(\"react-router\").Link;\r\nvar Toastr = require(\"toastr\");\r\n\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\nvar CoachingStore = require(\"ilevus/jsx/core/store/Coaching.jsx\");\r\nvar UserSession = require(\"ilevus/jsx/core/store/UserSession.jsx\");\r\n\r\nvar LoadingGauge = require(\"ilevus/jsx/core/widget/LoadingGauge.jsx\");\r\n\r\nvar string = require(\"string\");\r\nvar UserIcon = require(\"ilevus/img/user.png\");\r\n\r\nmodule.exports = React.createClass({\r\n    contextTypes: {\r\n        router: React.PropTypes.object\r\n    },\r\n\r\n    getInitialState() {\r\n        return {\r\n            asCoach: null,\r\n            asCoachee: null,\r\n            loaded: false\r\n        };\r\n    },\r\n\r\n    componentDidMount() {\r\n        var me = this;\r\n        CoachingStore.on(\"retrieve-coach-processes\", (processes) => {\r\n            me.setState({\r\n                asCoach: processes || [],\r\n                loaded: !!me.state.asCoachee\r\n            });\r\n        }, me);\r\n        CoachingStore.on(\"retrieve-coachee-processes\", (processes) => {\r\n            me.setState({\r\n                asCoachee: processes || [],\r\n                loaded: !!me.state.asCoach\r\n            });\r\n        }, me);\r\n\r\n        me.refreshProcesses();\r\n    },\r\n\r\n    componentWillUnmount() {\r\n        CoachingStore.off(null, null, this);\r\n    },\r\n\r\n    refreshProcesses() {\r\n        CoachingStore.dispatch({\r\n            action: CoachingStore.ACTION_RETRIEVE_COACH_PROCESSES\r\n        });\r\n        CoachingStore.dispatch({\r\n            action: CoachingStore.ACTION_RETRIEVE_COACHEE_PROCESSES\r\n        });\r\n    },\r\n\r\n    renderProcesses(asCoach) {\r\n        return (<table className=\"ilv-table\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{asCoach ? Messages.get(\"LabelCoachee\") : Messages.get(\"LabelCoach\")}</th>\r\n                    <th>{Messages.get(\"LabelStatus\")}</th>\r\n                    <th>{Messages.get(\"LabelCurrentSession\")}</th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {(asCoach ? this.state.asCoach : this.state.asCoachee).map((process, index) => {\r\n                    console.log(process);\r\n                    var display = asCoach ? process.Coachee : process.Coach;\r\n                    var statusEl;\r\n                    if (process.Status == 0) {\r\n                        statusEl = <label className=\"ilv-tag ilv-tag-warning m-0\">{Messages.get(\"LabelNotStarted\")}</label>;\r\n                    } else if (process.Status == 10) {\r\n                        statusEl = <label className=\"ilv-tag ilv-tag-success m-0\">{Messages.get(\"LabelFinished\")}</label>;\r\n                    } else if (process.Status > 10) {\r\n                        statusEl = <label className=\"ilv-tag ilv-tag-danger m-0\">{Messages.get(\"LabelCanceled\")}</label>;\r\n                    } else {\r\n                        statusEl = <label className=\"ilv-tag ilv-tag-info m-0\">{Messages.get(\"LabelInProgress\")}</label>;\r\n                    }\r\n\r\n                    return (<tr key={\"coaching-\" + index}>\r\n                        <td>\r\n                            <div className=\"ilv-media ilv-media-middle\">\r\n                                <div className=\"ilv-media-left\">\r\n                                    <span className=\"ilv-avatar-fluid ilv-avatar-fluid-sm\" style={{ backgroundImage: \"url( \"+(\r\n                                        string(display.Image).isEmpty() ? UserIcon : display.Image\r\n                                        )+\" )\" }} />\r\n                                </div>\r\n                                <div className=\"ilv-media-body\">\r\n                                    {display.Name} {display.Surname}\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            {statusEl}\r\n                        </td>\r\n                        <td>\r\n                            <h3 className=\"m-0\">{process.Sessions.length}</h3>\r\n                        </td>\r\n                        <td className=\"text-right\">\r\n                            <Link to={\"/coaching/process/\" + process.Id} className=\"ilv-btn ilv-btn-clean\" data-toggle=\"tooltip\" title={Messages.get(\"LabelParticipate\")}>\r\n                                <i className=\"material-icons md-24\">&#xE037;</i>\r\n                            </Link>\r\n                            {/*<button className=\"ilv-btn ilv-btn-clean\" data-toggle=\"tooltip\" title={Messages.get(\"LabelRate\")}>\r\n                                <i className=\"material-icons md-24\">&#xE838;</i>\r\n                            </button>*/}\r\n                        </td>\r\n                    </tr>);\r\n                })}\r\n            </tbody>\r\n        </table>);\r\n    },\r\n\r\n    render() {\r\n        if (!this.state.loaded) {\r\n            return <LoadingGauge />;\r\n        }\r\n        return (<div className=\"container\">\r\n            <h2 className=\"mb-5\">\r\n                {Messages.get(\"TextHello\")}&nbsp;\r\n                {UserSession.get(\"user\").Name},&nbsp;\r\n                {Messages.get(\"TextWelcomeBack\")}!\r\n            </h2>\r\n\r\n            {this.state.asCoach.length <= 0 ? \"\":<div className=\"row mb-5\">\r\n                <div className=\"col\">\r\n                    <div className=\"ilv-media ilv-media-middle mb-4\">\r\n                        <div className=\"ilv-media-body\">\r\n                            <h4>\r\n                                {Messages.get(\"TextCoachProgramsAsCoach\")} ({this.state.asCoach.length})\r\n                            </h4>\r\n                        </div>\r\n                        <div className=\"ilv-media-right\">\r\n                            <input className=\"ilv-form-control\" placeholder={Messages.get(\"LabelSearch\")} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {this.renderProcesses(true)}\r\n                </div>\r\n            </div>}\r\n\r\n            {this.state.asCoachee.length <= 0 ? \"\":<div className=\"row mb-5\">\r\n                <div className=\"col\">\r\n                    <div className=\"ilv-media ilv-media-middle mb-4\">\r\n                        <div className=\"ilv-media-body\">\r\n                            <h4>\r\n                                {Messages.get(\"TextCoachProgramsAsCoachee\")} ({this.state.asCoachee.length})\r\n                            </h4>\r\n                        </div>\r\n                        <div className=\"ilv-media-right\">\r\n                            <input className=\"ilv-form-control\" placeholder={Messages.get(\"LabelSearch\")} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {this.renderProcesses(false)}\r\n                </div>\r\n            </div>}\r\n\r\n        </div>);\r\n    }\r\n});"]}