{"version":3,"sources":["legacy\\jsx\\core\\view\\user\\wizard\\ProfileWizardServices.jsx"],"names":["React","require","Link","Toastr","LanguageSelect","ServiceForm","UserSession","LoadingGauge","Messages","module","exports","createClass","contextTypes","router","PropTypes","object","professionalData","isRequired","userId","string","getInitialState","services","context","Services","adding","editing","componentDidMount","me","on","data","success","get","push","componentWillUnmount","off","saveInfo","event","preventDefault","$","refs","attr","state","dispatch","action","ACTION_UPDATE_PROFESSIONAL_SERVICES","addService","setState","removeService","index","splice","forceUpdate","tweakAdding","startEditing","editService","cancelEditing","render","map","service","Name","bind"],"mappings":"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","file":"ProfileWizardServices.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["var React = require(\"react\");\r\nvar Link = require(\"react-router\").Link;\r\nvar Toastr = require(\"toastr\");\r\n\r\nvar LanguageSelect = require(\"ilevus/jsx/core/widget/LanguageSelect.jsx\");\r\nvar ServiceForm = require(\"ilevus/jsx/core/widget/user/ServiceForm.jsx\");\r\n\r\nvar UserSession = require(\"ilevus/jsx/core/store/UserSession.jsx\");\r\n\r\nvar LoadingGauge = require(\"ilevus/jsx/core/widget/LoadingGauge.jsx\");\r\n\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nmodule.exports = React.createClass({\r\n    contextTypes: {\r\n        router: React.PropTypes.object,\r\n        professionalData: React.PropTypes.object.isRequired,\r\n        userId: React.PropTypes.string.isRequired\r\n    },\r\n    getInitialState() {\r\n        return {\r\n            services: this.context.professionalData.Services || [],\r\n            adding: false,\r\n            editing: -1\r\n        };\r\n    },\r\n    componentDidMount() {\r\n        var me = this;\r\n        UserSession.on(\"professionalprofile\", (data) => {\r\n            Toastr.success(Messages.get(\"TextDataSavedSuccessfully\"));\r\n            me.context.router.push(\"/become-a-professional\");\r\n        }, me);\r\n    },\r\n    componentWillUnmount() {\r\n        UserSession.off(null, null, this);\r\n    },\r\n\r\n    saveInfo(event) {\r\n        event.preventDefault();\r\n        $(this.refs['btn-submit']).attr(\"disabled\", true);\r\n        var data = {\r\n            Services: this.state.services\r\n        };\r\n        UserSession.dispatch({\r\n            action: UserSession.ACTION_UPDATE_PROFESSIONAL_SERVICES,\r\n            data: data\r\n        });\r\n    },\r\n\r\n    addService(data) {\r\n        if (data) {\r\n            this.state.services.push(data);\r\n            this.setState({\r\n                adding: false\r\n            });\r\n        }\r\n    },\r\n    removeService(index, event) {\r\n        event.preventDefault();\r\n        this.state.services.splice(index, 1);\r\n        this.forceUpdate();\r\n    },\r\n    tweakAdding(event) {\r\n        event && event.preventDefault();\r\n        this.setState({\r\n            adding: !this.state.adding,\r\n            editing: -1\r\n        });\r\n    },\r\n    startEditing(index, event) {\r\n        event && event.preventDefault();\r\n        this.setState({\r\n            adding: false,\r\n            editing: index\r\n        });\r\n    },\r\n    editService(data) {\r\n        if (data) {\r\n            this.state.services[this.state.editing] = data;\r\n            this.setState({\r\n                adding: false,\r\n                editing: -1\r\n            });\r\n        }\r\n    },\r\n    cancelEditing() {\r\n        this.setState({\r\n            adding: false,\r\n            editing: -1\r\n        });\r\n    },\r\n\r\n    render() {\r\n        return (<div className=\"container\">\r\n\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t<div className=\"col-6\">\r\n                        <div className=\"text-center my-5\">\r\n\t\t\t\t\t\t\t\t<h3>{Messages.get(\"TextOfferedServices\")}</h3>\r\n                        </div>\r\n\t\t\t\t\t\t<div className=\"ilv-card\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"ilv-card-body\">\r\n\t\t\t\t\t\t\t\t<ul className=\"ilv-media-list ilv-media-list-bordered\">\r\n\t\t\t\t\t\t\t\t    {this.state.services.map((service, index) => {\r\n\t\t\t\t\t\t\t\t        if (index == this.state.editing) {\r\n\t\t\t\t\t\t\t\t            return <ServiceForm onSubmit={this.editService}\r\n                                                onCancel={this.cancelEditing}\r\n                                                service={this.state.services[this.state.editing]} />;\r\n\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t        return <li className=\"ilv-media ilv-media-middle\" key={\"career-\" + index}>\r\n\t\t\t\t\t\t\t\t\t\t    <div className=\"ilv-media-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t    <h4 className=\"m-a-0\">\r\n                                                    {service.Name}\r\n                                                </h4>\r\n\t\t\t\t\t\t\t\t\t\t    </div>\r\n                                            <div className=\"ilv-media-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t    <button className=\"ilv-btn ilv-btn-icon ilv-btn-link px-0\" onClick={this.startEditing.bind(this,index)}>\r\n                                                    <i className=\"ilv-icon material-icons md-18\">&#xE3C9;</i>\r\n\t\t\t\t\t\t\t\t\t\t\t    </button>\r\n                                                <button className=\"ilv-btn ilv-btn-icon ilv-btn-clean text-danger px-0 ml-3\" onClick={this.removeService.bind(this, index)}>\r\n                                                    <i className=\"ilv-icon material-icons md-18\">&#xE5C9;</i>\r\n                                                </button>\r\n                                            </div>\r\n                                        </li>;\r\n\t\t\t\t\t\t\t\t    })}\r\n\r\n\t\t\t\t\t\t\t\t    {!this.state.adding && (this.state.editing < 0) ?\r\n                                        <li className=\"ilv-media\">\r\n                                            <div className=\"ilv-media-body ilv-text-xs-center\">\r\n                                                <button className=\"ilv-btn ilv-btn-link\" onClick={this.tweakAdding}>\r\n                                                    {Messages.get(\"ActionAddNewOfferedService\")}\r\n                                                </button>\r\n                                            </div>\r\n                                        </li>\r\n\t\t\t\t\t\t\t\t    :\"\"}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t    {this.state.adding ?\r\n                                    <ServiceForm onSubmit={this.addService}\r\n                                                onCancel={this.tweakAdding} />\r\n\t\t\t\t\t\t\t    :\"\"}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t    {!this.state.adding && (this.state.editing < 0) ?\r\n                                <div className=\"ilv-card-footer ilv-text-xs-right\">\r\n                                    <Link className=\"ilv-btn ilv-btn-clean\" to=\"/become-a-professional\">\r\n                                        {Messages.get(\"LabelBack\")}\r\n                                    </Link>\r\n                                    <button className=\"ilv-btn ilv-btn-primary\"\r\n                                            onClick={this.saveInfo}\r\n                                            ref=\"btn-submit\">{Messages.get(\"LabelSave\")}\r\n                                    </button>\r\n                                </div>\r\n\t\t\t\t\t\t    :\"\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n        </div>);\r\n        }\r\n});\r\n"]}