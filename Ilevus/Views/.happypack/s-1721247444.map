{"version":3,"sources":["legacy\\jsx\\core\\store\\Cart.jsx"],"names":["Fluxbone","require","Messages","S","hiredServices","URL","BACKEND_URL","CartModel","Model","extend","url","validate","attrs","options","errors","length","CartStore","Store","ACTION_TO_HIRE_SERVICE","ACTION_REMOVE_HIRED_SERVICE","dispatchAcceptRegex","model","services","addService","data","push","removeService","service","event","preventDefault","removeByAttr","Id","isInCart","objctInArray","getCacheServicesHired","arr","attr","value","i","hasOwnProperty","arguments","splice","module","exports"],"mappings":";;AAAA;;;;AAIA,IAAIA,WAAWC,QAAQ,oCAAR,CAAf;AACA,IAAIC,WAAWD,QAAQ,mCAAR,CAAf;AACA,IAAIE,IAAIF,QAAQ,QAAR,CAAR;;AAEA,IAAIG,gBAAgB,EAApB;;AAEA,IAAIC,MAAML,SAASM,WAAT,GAAuB,MAAjC;;AAEA,IAAIC,YAAYP,SAASQ,KAAT,CAAeC,MAAf,CAAsB;AACrCC,MAAKL,GADgC;AAErCM,SAFqC,oBAE5BC,KAF4B,EAErBC,OAFqB,EAEZ;AACxB,MAAIC,SAAS,EAAb;;AAEA,MAAIA,OAAOC,MAAP,GAAgB,CAApB,EACC,OAAOD,MAAP;AACD;AAPoC,CAAtB,CAAhB;;AAUA,IAAIE,YAAYhB,SAASiB,KAAT,CAAeR,MAAf,CAAsB;;AAErCS,yBAAwB,iBAFa;AAGrCC,8BAA6B,oBAHQ;AAIrCC,sBAAqB,qBAJgB;;AAMrCV,MAAKL,GANgC;AAOrCgB,QAAOd,SAP8B;AAQrCe,WAAU,EAR2B;;AAWrCC,WAXqC,sBAW1BC,IAX0B,EAWpB;AAChB,MAAIA,IAAJ,EAAU;AACT,QAAKF,QAAL,CAAcG,IAAd,CAAmBD,IAAnB;AACA;AACD,EAfoC;AAiBrCE,cAjBqC,yBAiBvBC,OAjBuB,EAiBd;AACtBC,QAAMC,cAAN;AACA,OAAKC,YAAL,CAAkB,KAAKR,QAAvB,EAAiC,IAAjC,EAAuCK,QAAQI,EAA/C;AACA,EApBoC;;AAqBrC;AACAC,SAtBqC,oBAsB5BL,OAtB4B,EAsBnB;AACX,SAAO,KAAKM,YAAL,CAAkB,KAAKX,QAAvB,EAAiC,IAAjC,EAAuCK,QAAQI,EAA/C,CAAP;AACN,EAxBoC;AAyBrCG,sBAzBqC,mCAyBb;AACvB,SAAO,KAAKZ,QAAZ;AACA,EA3BoC;AA6BrCQ,aA7BqC,wBA6BxBK,GA7BwB,EA6BnBC,IA7BmB,EA6BbC,KA7Ba,EA6BN;AAC9B,MAAIC,IAAIH,IAAIpB,MAAZ;AACA,SAAOuB,GAAP,EAAY;AACX,OAAIH,IAAIG,CAAJ,KAAUH,IAAIG,CAAJ,EAAOC,cAAP,CAAsBH,IAAtB,CAAV,IAA0CI,UAAUzB,MAAV,GAAmB,CAAnB,IAAwBoB,IAAIG,CAAJ,EAAOF,IAAP,MAAiBC,KAAvF,EAA+F;AAC9FF,QAAIM,MAAJ,CAAWH,CAAX,EAAc,CAAd;AACA;AACD;AACD,SAAOH,GAAP;AACG,EArCiC;AAuCrCF,aAvCqC,wBAuCxBE,GAvCwB,EAuCnBC,IAvCmB,EAuCbC,KAvCa,EAuCN;AAC9B,MAAIC,IAAIH,IAAIpB,MAAZ;AACA,SAAOuB,GAAP,EAAY;AACX,OAAIH,IAAIG,CAAJ,KAAUH,IAAIG,CAAJ,EAAOC,cAAP,CAAsBH,IAAtB,CAAV,IAA0CI,UAAUzB,MAAV,GAAmB,CAAnB,IAAwBoB,IAAIG,CAAJ,EAAOF,IAAP,MAAiBC,KAAvF,EAA+F;AAClF,WAAO,IAAP;AACZ;AACD;AACD,SAAO,KAAP;AACA;AA/CoC,CAAtB,CAAhB;;AAkDAK,OAAOC,OAAP,GAAiB,IAAI3B,SAAJ,EAAjB;;;;;;;;+BAhEIZ,a;;+BAEAC,G;;+BAEAE,S;;+BAUAS,S","file":"Cart.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["/**\r\n    Esta é a store da entidade de controle de compras de serviço.\r\n*/\r\n\r\nvar Fluxbone = require(\"ilevus/jsx/core/store/Fluxbone.jsx\");\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\nvar S = require(\"string\");\r\n\r\nvar hiredServices = [];\r\n\r\nvar URL = Fluxbone.BACKEND_URL + \"Cart\";\r\n\r\nvar CartModel = Fluxbone.Model.extend({\r\n\turl: URL,\r\n\tvalidate(attrs, options) {\r\n\t\tvar errors = [];\r\n\r\n\t\tif (errors.length > 0)\r\n\t\t\treturn errors;\r\n\t}\r\n});\r\n\r\nvar CartStore = Fluxbone.Store.extend({\r\n\r\n\tACTION_TO_HIRE_SERVICE: 'cart-addService',\r\n\tACTION_REMOVE_HIRED_SERVICE: 'cart-removeService',\r\n\tdispatchAcceptRegex: /^cart-[a-zA-Z0-9]+$/,\r\n\r\n\turl: URL,\r\n\tmodel: CartModel,\r\n\tservices: [],\r\n\r\n\r\n\taddService(data) {\r\n\t\tif (data) {\r\n\t\t\tthis.services.push(data);\r\n\t\t}\r\n\t},\r\n\r\n\tremoveService(service) {\r\n\t\tevent.preventDefault();\r\n\t\tthis.removeByAttr(this.services, 'Id', service.Id);\r\n\t},\r\n\t// selectors\r\n\tisInCart(service) {\r\n        return this.objctInArray(this.services, 'Id', service.Id);\r\n\t},\r\n\tgetCacheServicesHired() {\r\n\t\treturn this.services;\r\n\t},\r\n\r\n\tremoveByAttr(arr, attr, value) {\r\n\t\tvar i = arr.length;\r\n\t\twhile (i--) {\r\n\t\t\tif (arr[i] && arr[i].hasOwnProperty(attr) && (arguments.length > 2 && arr[i][attr] === value)) {\r\n\t\t\t\tarr.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n    },\r\n    \r\n\tobjctInArray(arr, attr, value) {\r\n\t\tvar i = arr.length;\r\n\t\twhile (i--) {\r\n\t\t\tif (arr[i] && arr[i].hasOwnProperty(attr) && (arguments.length > 2 && arr[i][attr] === value)) {\r\n                return true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n});\r\n\r\nmodule.exports = new CartStore();\r\n"]}