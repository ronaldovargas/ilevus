{"version":3,"sources":["legacy\\jsx\\core\\widget\\AdSideBar.jsx"],"names":["_","require","S","moment","React","Link","Messages","UserSession","AdStore","module","exports","createClass","propTypes","keyword","PropTypes","string","limit","isMobile","getDefaultProps","getInitialState","loading","ads","componentDidMount","me","on","three","i","length","push","setState","refreshAds","props","componentWillUnmount","off","componentWillReceiveProps","newProps","dispatch","action","ACTION_SEARCH_ADS","data","render","state","map","ad","index","Id"],"mappings":"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","file":"AdSideBar.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["var _ = require(\"underscore\");\r\nvar S = require(\"string\");\r\nvar moment = require(\"moment\");\r\nvar React = require(\"react\");\r\nvar Link = require(\"react-router\").Link;\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nvar UserSession = require(\"ilevus/jsx/core/store/UserSession.jsx\");\r\nvar AdStore = require(\"ilevus/jsx/core/store/Ad.jsx\");\r\n\r\nmodule.exports = React.createClass({\r\n    propTypes: {\r\n        keyword: React.PropTypes.string,\r\n        limit: React.PropTypes.string,\r\n        isMobile: React.PropTypes.string\r\n    },\r\n    getDefaultProps() {\r\n        return {\r\n            keyword: null,\r\n            limit: 1,\r\n            isMobile: false\r\n        };\r\n    },\r\n    getInitialState() {\r\n        return {\r\n            loading: true,\r\n            ads: []\r\n        };\r\n    },\r\n\r\n    componentDidMount() {\r\n        var me = this;\r\n        AdStore.on(\"search-ads\", (ads) => {\r\n            var three = [];\r\n            for (var i = 0; i < ads.length; i++) {\r\n                if (i >= 1)\r\n                    break;\r\n                three.push(ads[i]);\r\n            }\r\n            me.setState({\r\n                ads: three,\r\n                loading: false\r\n            });\r\n        }, me);\r\n\r\n        me.refreshAds(me.props.keyword, me.props.limit, me.props.isMobile);\r\n    },\r\n    componentWillUnmount() {\r\n        AdStore.off(null, null, this);\r\n    },\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.keyword != this.props.keyword) {\r\n            this.refreshAds(newProps.keyword, me.props.limit, me.props.isMobile);\r\n        }\r\n    },\r\n\r\n    refreshAds(keyword, limit, isMobile) {\r\n        AdStore.dispatch({\r\n            action: AdStore.ACTION_SEARCH_ADS,\r\n            data: { keyword: keyword, limit: limit, isMobile: isMobile }\r\n        });\r\n    },\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return <span />;\r\n        }\r\n\r\n        return (<div className=\"ilv-media-list ilv-media-list-bordered\">\r\n            {this.state.ads.map((ad, index) => {\r\n            return (<div className=\"ilv-media\" key={\"ad-\" + index }>\r\n                    <a className=\"ilv-media-body\" href={\"/api/Ad/Click?Id=\"+ad.Id}>\r\n                        <img src={\"/api/Ad/View?Id=\" + ad.Id + \"&Position=desktop\"} className=\"w-100\" />\r\n                    </a>\r\n                </div>);\r\n            })}\r\n        </div>);\r\n    }\r\n});\r\n\r\n"]}