"use strict";

var React = require("react");
var Link = require("react-router").Link;
var UserStore = require("ilevus/jsx/core/store/User.jsx");
var ErrorAlert = require("ilevus/jsx/core/widget/ErrorAlert.jsx");
var LoadingGauge = require("ilevus/jsx/core/widget/LoadingGauge.jsx");
var Toastr = require("toastr");
var Messages = require("ilevus/jsx/core/util/Messages.jsx");

var AppLogo = require("ilevus/img/logo.png");

module.exports = React.createClass({
    displayName: "exports",

    contextTypes: {
        router: React.PropTypes.object
    },
    getInitialState: function getInitialState() {
        return {};
    },
    componentDidMount: function componentDidMount() {
        var me = this;
        UserStore.on("sync", function (model) {
            Toastr.success(Messages.get("TextAccountCreated"));
            me.context.router.push("/login");
        }, me);
    },
    componentWillUnmount: function componentWillUnmount() {
        UserStore.off(null, null, this);
    },
    onSubmit: function onSubmit(evt) {
        evt.preventDefault();
        var data = {
            Email: this.refs['email'].value,
            Name: this.refs['name'].value,
            Surname: this.refs['surname'].value,
            Password: this.refs['password'].value,
            ConfirmPassword: this.refs['passwordconfirm'].value
        };
        console.log(data);
        UserStore.dispatch({ action: UserStore.ACTION_SIGNUP, data: data });
    },
    render: function render() {
        return React.createElement(
            "div",
            { className: "container" },
            React.createElement(
                "div",
                { className: "row" },
                React.createElement(
                    "div",
                    {
                        className: "col-md-10 offset-sm-1 col-lg-8 offset-lg-2 col-xl-6 offset-xl-3" },
                    React.createElement(
                        "div",
                        { className: "ilv-card mt-3" },
                        React.createElement(
                            "div",
                            { className: "ilv-card-header" },
                            React.createElement(
                                "h3",
                                null,
                                Messages.get("TextSignUpTitle")
                            )
                        ),
                        React.createElement(
                            "div",
                            { className: "ilv-card-body" },
                            React.createElement(
                                "form",
                                { onSubmit: this.onSubmit },
                                React.createElement(
                                    "div",
                                    { className: "row" },
                                    React.createElement(
                                        "fieldset",
                                        { className: "ilv-form-group col-md-6" },
                                        React.createElement(
                                            "label",
                                            { className: "ilv-form-label", htmlFor: "name" },
                                            Messages.get("LabelFirstName")
                                        ),
                                        React.createElement("input", {
                                            className: "ilv-form-control ilv-form-control-lg",
                                            id: "name",
                                            name: "name",
                                            type: "text",
                                            ref: "name" })
                                    ),
                                    React.createElement(
                                        "fieldset",
                                        { className: "ilv-form-group col-md-6" },
                                        React.createElement(
                                            "label",
                                            { className: "ilv-form-label", htmlFor: "surname" },
                                            Messages.get("LabelSurname")
                                        ),
                                        React.createElement("input", {
                                            className: "ilv-form-control ilv-form-control-lg",
                                            id: "surname",
                                            name: "surname",
                                            type: "text",
                                            ref: "surname" })
                                    )
                                ),
                                React.createElement(
                                    "fieldset",
                                    { className: "ilv-form-group" },
                                    React.createElement(
                                        "label",
                                        { className: "ilv-form-label", htmlFor: "email" },
                                        Messages.get("LabelEmail")
                                    ),
                                    React.createElement("input", {
                                        className: "ilv-form-control ilv-form-control-lg",
                                        id: "email",
                                        name: "email",
                                        type: "email",
                                        ref: "email" })
                                ),
                                React.createElement(
                                    "fieldset",
                                    { className: "ilv-form-group" },
                                    React.createElement(
                                        "label",
                                        { className: "ilv-form-label", htmlFor: "password" },
                                        Messages.get("LabelPassword")
                                    ),
                                    React.createElement("input", {
                                        className: "ilv-form-control ilv-form-control-lg",
                                        id: "password",
                                        name: "password",
                                        type: "password",
                                        ref: "password" })
                                ),
                                React.createElement(
                                    "fieldset",
                                    { className: "ilv-form-group" },
                                    React.createElement(
                                        "label",
                                        { className: "ilv-form-label", htmlFor: "passwordconfirm" },
                                        Messages.get("LabelPasswordConfirm")
                                    ),
                                    React.createElement("input", {
                                        className: "ilv-form-control ilv-form-control-lg",
                                        id: "passwordconfirm",
                                        name: "passwordconfirm",
                                        type: "password",
                                        ref: "passwordconfirm" })
                                ),
                                React.createElement(ErrorAlert, { store: UserStore }),
                                React.createElement(
                                    "div",
                                    { className: "ilv-text-small text-center" },
                                    Messages.get("TextSignUpAgreement")
                                ),
                                React.createElement(
                                    "div",
                                    { className: "text-center" },
                                    React.createElement(
                                        "a",
                                        { "class": "ilv-text-small", href: "/termos-privacidade", target: "_blank" },
                                        Messages.get("TextSignUpAgreementPart2")
                                    )
                                ),
                                React.createElement("br", null),
                                React.createElement(
                                    "fieldset",
                                    null,
                                    React.createElement("input", {
                                        className: "ilv-btn ilv-btn-lg ilv-btn-primary ilv-btn-block",
                                        type: "submit",
                                        value: Messages.get("ActionCreateMyAccount") })
                                )
                            )
                        )
                    ),
                    React.createElement(
                        "div",
                        { className: "ilv-text-xs-center my-3" },
                        React.createElement(
                            "p",
                            null,
                            React.createElement(
                                Link,
                                { className: "ilv-font-weight-semibold", to: "/login" },
                                Messages.get("TextQHaveAccount"),
                                " ",
                                Messages.get("TextSignIn")
                            )
                        )
                    )
                )
            )
        );
    }
});
;

var _temp = function () {
    if (typeof __REACT_HOT_LOADER__ === 'undefined') {
        return;
    }

    __REACT_HOT_LOADER__.register(Link, "Link", "C:/Projetos/Nova pasta/ilevus/Ilevus/Views/legacy/jsx/core/view/user/Register.jsx");
}();

;