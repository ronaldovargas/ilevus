/**
    Esta é a store da entidade de Usuário do sistema.
*/

var Fluxbone = require("ilevus/jsx/core/store/Fluxbone.jsx");
var Messages = require("ilevus/jsx/core/util/Messages.jsx");
var S = require("string");

var UserSession = require("ilevus/jsx/core/store/UserSession.jsx");

var URL = Fluxbone.BACKEND_URL + "WheelOfLife";

var WheelOfLifeModel = Fluxbone.Model.extend({
	url: URL,
	validate: function validate(attrs, options) {
		var errors = [];

		if (errors.length > 0) return errors;
	}
});

var WheelOfLifeStore = Fluxbone.Store.extend({
	ACTION_SAVE_CONFIGURATION: 'wheeloflife-saveConfiguration',
	ACTION_INITIALIZE_TOOL: 'wheeloflife-initializeTool',
	ACTION_SAVE_EVALUATION: 'wheeloflife-saveEvaluation',
	ACTION_SAVE_LEARNINGS: 'wheeloflife-saveLearnings',
	ACTION_REMOVE_TASK: 'wheeloflife-removeTask',
	ACTION_SAVE_TASK: 'wheeloflife-saveTask',
	ACTION_UPDATE_TASK: 'wheeloflife-updateTask',
	dispatchAcceptRegex: /^wheeloflife-[a-zA-Z0-9]+$/,

	url: URL,
	model: WheelOfLifeModel,

	saveConfiguration: function saveConfiguration(params) {
		var me = this;
		$.ajax({
			method: "POST",
			url: me.url + "/Configure",
			dataType: 'json',
			contentType: 'application/json',
			data: JSON.stringify({
				WheelOfLifeDefaults: params
			}),
			success: function success(data, status, opts) {
				UserSession.get("user").Professional.Professional.CoachingToolsConfigs.WheelOfLifeDefaults = data;
				me.trigger("save-configuration", data);
			},
			error: function error(opts, status, errorMsg) {
				me.handleRequestErrors([], opts);
			}
		});
	},
	initializeTool: function initializeTool(params) {
		var me = this;
		$.ajax({
			method: "POST",
			url: me.url + "/Initialize",
			dataType: 'json',
			data: params,
			success: function success(data, status, opts) {
				me.trigger("initialize-tool", data);
			},
			error: function error(opts, status, errorMsg) {
				me.handleRequestErrors([], opts);
			}
		});
	},
	saveEvaluation: function saveEvaluation(params) {
		var me = this;
		$.ajax({
			method: "POST",
			url: me.url + "/Evaluate",
			dataType: 'json',
			data: params,
			success: function success(data, status, opts) {
				me.trigger("save-evaluation", data);
			},
			error: function error(opts, status, errorMsg) {
				me.handleRequestErrors([], opts);
			}
		});
	},
	saveLearnings: function saveLearnings(params) {
		var me = this;
		$.ajax({
			method: "POST",
			url: me.url + "/SaveLearnings",
			dataType: 'json',
			data: params,
			success: function success(data, status, opts) {
				me.trigger("save-learnings", data);
			},
			error: function error(opts, status, errorMsg) {
				me.handleRequestErrors([], opts);
			}
		});
	},
	removeTask: function removeTask(params) {
		var me = this;
		$.ajax({
			method: "POST",
			url: me.url + "/RemoveTask",
			dataType: 'json',
			data: params,
			success: function success(data, status, opts) {
				me.trigger("remove-task", data);
			},
			error: function error(opts, status, errorMsg) {
				me.handleRequestErrors([], opts);
			}
		});
	},
	saveTask: function saveTask(params) {
		var me = this;
		$.ajax({
			method: "POST",
			url: me.url + "/SaveTask",
			dataType: 'json',
			data: params,
			success: function success(data, status, opts) {
				me.trigger("save-task", data);
			},
			error: function error(opts, status, errorMsg) {
				me.handleRequestErrors([], opts);
			}
		});
	},
	updateTask: function updateTask(params) {
		var me = this;
		$.ajax({
			method: "POST",
			url: me.url + "/UpdateTask",
			dataType: 'json',
			data: params,
			success: function success(data, status, opts) {
				me.trigger("update-task", data);
			},
			error: function error(opts, status, errorMsg) {
				me.handleRequestErrors([], opts);
			}
		});
	}
});

module.exports = new WheelOfLifeStore();
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(URL, "URL", "C:/Projetos/Nova pasta/ilevus/Ilevus/Views/legacy/jsx/core/store/coaching/WheelOfLife.jsx");

	__REACT_HOT_LOADER__.register(WheelOfLifeModel, "WheelOfLifeModel", "C:/Projetos/Nova pasta/ilevus/Ilevus/Views/legacy/jsx/core/store/coaching/WheelOfLife.jsx");

	__REACT_HOT_LOADER__.register(WheelOfLifeStore, "WheelOfLifeStore", "C:/Projetos/Nova pasta/ilevus/Ilevus/Views/legacy/jsx/core/store/coaching/WheelOfLife.jsx");
}();

;