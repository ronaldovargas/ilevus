{"version":3,"sources":["legacy\\jsx\\core\\view\\admin\\AdminPanelReports.jsx"],"names":["React","require","Link","Toastr","ReportStore","UserSession","LoadingGauge","Messages","module","exports","createClass","contextTypes","router","PropTypes","object","getInitialState","dtInit","dtEnd","loading","componentDidMount","me","setState","di","Date","setDate","setMonth","getMonth","de","getFullYear","state","getDate","slice","jQuery","document","on","find","toggleClass","daterangepicker","singleDatePicker","locale","format","opens","drops","showDropdowns","componentWillUnmount","off","downloadProductivityCSV","event","stopPropagation","dispatch","action","ACTION_DOWNLOAD_PRODUTIVITY_CSV","data","DtInit","refs","value","DtEnd","SearchTerm","render","get"],"mappings":"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","file":"AdminPanelReports.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["\r\nvar React = require(\"react\");\r\nvar Link = require(\"react-router\").Link;\r\nvar Toastr = require(\"toastr\");\r\n\r\n\r\nvar ReportStore = require(\"ilevus/jsx/core/store/Reports.jsx\");\r\nvar UserSession = require(\"ilevus/jsx/core/store/UserSession.jsx\");\r\n\r\nvar LoadingGauge = require(\"ilevus/jsx/core/widget/LoadingGauge.jsx\");\r\n\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nmodule.exports = React.createClass({\r\n    contextTypes: {\r\n        router: React.PropTypes.object\r\n    },\r\n    getInitialState() {\r\n        return {\r\n            dtInit: null,\r\n            dtEnd: null,\r\n            loading: true\r\n        };\r\n    },\r\n    componentDidMount() {\r\n        var me = this;\r\n        me.setState({\r\n            loading: false\r\n        });\r\n\r\n        var di = new Date();\r\n        di.setDate(1);\r\n        di.setMonth(di.getMonth() - 1);\r\n\r\n        var de = new Date(di.getFullYear(), di.getMonth() + 1, 0);\r\n        \r\n        this.state.dtInit = (\"0\" + di.getDate()).slice(-2) + \"/\" + (\"0\" + (di.getMonth() + 1)).slice(-2) + \"/\" + di.getFullYear(); //di.getFullYear() + \"-\" + (di.getMonth() + 1) + \"-\" + di.getDate();\r\n        this.state.dtEnd = (\"0\" + de.getDate()).slice(-2) + \"/\" + (\"0\" + (de.getMonth() + 1)).slice(-2) + \"/\" + de.getFullYear(); //de.getFullYear() + \"-\" + (de.getMonth() + 1) + \"-\" + de.getDate();\r\n        \r\n\r\n\r\n        jQuery(document).on(\"click\", \"a[id*='lnkExpand']\", function () {\r\n            jQuery(this).find(\"i\").toggleClass(\"fa-plus\").toggleClass(\"fa-minus\");\r\n\r\n\r\n            jQuery('input[id=\"DtInit\"], input[id=\"DtEnd\"]').daterangepicker({\r\n                singleDatePicker: true,\r\n                locale: {\r\n                    format: 'DD/MM/YYYY'\r\n                },\r\n                opens: 'right',\r\n                drops: 'down',\r\n                showDropdowns: true\r\n            });\r\n\r\n        });\r\n\r\n    },\r\n    componentWillUnmount() {\r\n        ReportStore.off(null, null, this);\r\n    },\r\n\r\n    downloadProductivityCSV(event) {\r\n        event.stopPropagation();\r\n        ReportStore.dispatch({\r\n            action: ReportStore.ACTION_DOWNLOAD_PRODUTIVITY_CSV,\r\n            data: {\r\n                DtInit: this.refs['DtInit'].value,\r\n                DtEnd: this.refs['DtEnd'].value,\r\n                SearchTerm: this.refs['SearchTerm'].value\r\n            }\r\n        });\r\n    },\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return <LoadingGauge />;\r\n        }\r\n        return (<div>\r\n            <div className=\"ilv-card\">\r\n                <div className=\"ilv-card-header\">\r\n                    <div className=\"ilv-media ilv-media-middle\">\r\n                        <div className=\"ilv-media-body\">\r\n                            <a href={\"#productivity-container\"} id=\"lnkExpand\" data-toggle=\"collapse\"><i className=\"fa fa-plus\"></i></a>&nbsp;&nbsp;\r\n                            <strong>{Messages.get(\"LabelModeratorsProductivity\")}</strong>\r\n                        </div>\r\n                        <div className=\"ilv-media-right\">\r\n                            <button className=\"ilv-btn ilv-btn-link\" onClick={this.downloadProductivityCSV}><i className=\"fa fa-download\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"ilv-card-body collapse\" id=\"productivity-container\">\r\n                    \r\n                    <form className=\"tab-content\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-4\">\r\n                                <div className=\"ilv-form-group\">\r\n                                    <label className=\"ilv-form-label\">{Messages.get(\"LabelDataInicio\")}</label>\r\n                                    <input className=\"ilv-form-control\" type=\"text\" id=\"DtInit\" ref=\"DtInit\" defaultValue={this.state.dtInit} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-4\">\r\n                                <div className=\"ilv-form-group\">\r\n                                    <label className=\"ilv-form-label\">{Messages.get(\"LabelDataFinal\")}</label>\r\n                                    <input className=\"ilv-form-control\" type=\"text\" id=\"DtEnd\" ref=\"DtEnd\" defaultValue={this.state.dtEnd} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-4\">\r\n                                <div className=\"ilv-form-group\">\r\n                                    <label className=\"ilv-form-label\">{Messages.get(\"LabelSearch\")}</label>\r\n                                    <input className=\"ilv-form-control\" type=\"text\" id=\"SearchTerm\" ref=\"SearchTerm\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        \r\n        </div>);\r\n    }\r\n});"]}