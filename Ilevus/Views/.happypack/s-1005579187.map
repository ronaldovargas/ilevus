{"version":3,"sources":["legacy\\jsx\\core\\view\\user\\wizard\\ProfileWizardEducation.jsx"],"names":["React","require","Link","Toastr","LanguageSelect","EducationForm","UserSession","LoadingGauge","Messages","module","exports","createClass","contextTypes","router","PropTypes","object","professionalData","isRequired","userId","string","getInitialState","educations","context","Education","adding","editing","componentDidMount","me","on","data","success","get","push","componentWillUnmount","off","saveInfo","event","preventDefault","$","refs","attr","state","dispatch","action","ACTION_UPDATE_PROFESSIONAL_EDUCATION","addEducation","setState","removeEducation","index","splice","forceUpdate","tweakAdding","startEditing","editEducation","orderUp","aux","orderDown","cancelEditing","render","map","education","Institution","Type","Area","Finished","Begin","End","Description","length","bind"],"mappings":"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","file":"ProfileWizardEducation.jsx","sourceRoot":"C:/Projetos/Nova pasta/ilevus/Ilevus/Views","sourcesContent":["\r\nvar React = require(\"react\");\r\nvar Link = require(\"react-router\").Link;\r\nvar Toastr = require(\"toastr\");\r\n\r\nvar LanguageSelect = require(\"ilevus/jsx/core/widget/LanguageSelect.jsx\");\r\nvar EducationForm = require(\"ilevus/jsx/core/widget/user/EducationForm.jsx\");\r\n\r\nvar UserSession = require(\"ilevus/jsx/core/store/UserSession.jsx\");\r\n\r\nvar LoadingGauge = require(\"ilevus/jsx/core/widget/LoadingGauge.jsx\");\r\n\r\nvar Messages = require(\"ilevus/jsx/core/util/Messages.jsx\");\r\n\r\nmodule.exports = React.createClass({\r\n    contextTypes: {\r\n        router: React.PropTypes.object,\r\n        professionalData: React.PropTypes.object.isRequired,\r\n        userId: React.PropTypes.string.isRequired\r\n    },\r\n    getInitialState() {\r\n        return {\r\n            educations: this.context.professionalData.Education || [],\r\n            adding: false,\r\n            editing: -1\r\n        };\r\n    },\r\n    componentDidMount() {\r\n        var me = this;\r\n        UserSession.on(\"professionalprofile\", (data) => {\r\n            Toastr.success(Messages.get(\"TextDataSavedSuccessfully\"));\r\n            me.context.router.push(\"/become-a-professional\");\r\n        }, me);\r\n    },\r\n    componentWillUnmount() {\r\n        UserSession.off(null, null, this);\r\n    },\r\n\r\n    saveInfo(event) {\r\n        event.preventDefault();\r\n        $(this.refs['btn-submit']).attr(\"disabled\", true);\r\n        var data = {\r\n            Education: this.state.educations\r\n        };\r\n        UserSession.dispatch({\r\n            action: UserSession.ACTION_UPDATE_PROFESSIONAL_EDUCATION,\r\n            data: data\r\n        });\r\n    },\r\n\r\n    addEducation(data) {\r\n        if (data) {\r\n            this.state.educations.push(data);\r\n            this.setState({\r\n                adding: false\r\n            });\r\n        }\r\n    },\r\n    removeEducation(index, event) {\r\n        event.preventDefault();\r\n        this.state.educations.splice(index, 1);\r\n        this.forceUpdate();\r\n    },\r\n    tweakAdding(event) {\r\n        event && event.preventDefault();\r\n        this.setState({\r\n            adding: !this.state.adding,\r\n            editing: -1\r\n        });\r\n    },\r\n    startEditing(index, event) {\r\n        event && event.preventDefault();\r\n        this.setState({\r\n            adding: false,\r\n            editing: index\r\n        });\r\n    },\r\n    editEducation(data) {\r\n        if (data) {\r\n            this.state.educations[this.state.editing] = data;\r\n            this.setState({\r\n                adding: false,\r\n                editing: -1\r\n            });\r\n        }\r\n    },\r\n    orderUp(index, event) {\r\n        event && event.preventDefault();\r\n        var aux = this.state.educations[index];\r\n        this.state.educations[index] = this.state.educations[index - 1];\r\n        this.state.educations[index - 1] = aux;\r\n        this.forceUpdate();\r\n    },\r\n    orderDown(index, event) {\r\n        event && event.preventDefault();\r\n        var aux = this.state.educations[index];\r\n        this.state.educations[index] = this.state.educations[index + 1];\r\n        this.state.educations[index + 1] = aux;\r\n        this.forceUpdate();\r\n    },\r\n    cancelEditing() {\r\n        this.setState({\r\n            adding: false,\r\n            editing: -1\r\n        });\r\n    },\r\n\r\n    render() {\r\n        return (<div className=\"container\">\r\n\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t<div className=\"col-6\">\r\n                        <div className=\"text-center my-5\">\r\n\t\t\t\t\t\t\t<h3>{Messages.get(\"TextEducation\")}</h3>\r\n                        </div>\r\n\t\t\t\t\t\t<div className=\"ilv-card\">\r\n\t\t\t\t\t\t\t<div className=\"ilv-card-body\">\r\n\t\t\t\t\t\t\t\t<ul className=\"ilv-media-list ilv-media-list-bordered\">\r\n                                    {this.state.educations.map((education, index) => {\r\n                                        if (index == this.state.editing) {\r\n                                            return <EducationForm onSubmit={this.editEducation}\r\n                                                onCancel={this.cancelEditing}\r\n                                                education={this.state.educations[this.state.editing]}/>;\r\n                                        }\r\n                                        return <li className=\"ilv-media ilv-media-middle\" key={\"educ-\"+index}>\r\n\t\t\t\t\t\t\t\t\t\t    <div className=\"ilv-media-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t    <h4 className=\"ma-0\">{education.Institution}</h4>\r\n                                                <span>\r\n                                                    {Messages.get(\"EducationType\" + education.Type)} | {education.Area}\r\n                                                </span>\r\n                                                <div className=\"ilv-text-small text-muted\">\r\n                                                    {education.Finished\r\n                                                        ? education.Begin + (education.End ? \" \" + Messages.get(\"LabelTo\") + \" \" + education.End : \"\")\r\n                                                        : Messages.get(\"LabelStartedAt\") + \" \" + education.Begin\r\n                                                    }\r\n                                                </div>\r\n\t\t\t\t\t\t\t\t\t\t\t    <p>{education.Description}</p>\r\n                                            </div>\r\n                                            <div className=\"ilv-media-right\">\r\n                                                {this.state.educations.length > 1 ?\r\n                                                    (index < this.state.educations.length-1 ?\r\n                                                        <button className=\"ilv-btn ilv-btn-icon ilv-btn-link px-0\"\r\n                                                                onClick={this.orderDown.bind(this, index)}>\r\n                                                            <i className=\"ilv-icon material-icons md-18\">&#xE5DB;</i>\r\n\t\t\t\t\t\t\t\t\t\t\t            </button>\r\n                                                    :\"\")\r\n                                                :\"\"}\r\n                                                {this.state.educations.length > 1 ?\r\n                                                    (index > 0 ?\r\n                                                        <button className=\"ilv-btn ilv-btn-icon ilv-btn-link px-0\"\r\n                                                                onClick={this.orderUp.bind(this, index)}>\r\n                                                            <i className=\"ilv-icon material-icons md-18\">&#xE5D8;</i>\r\n                                                        </button>\r\n                                                    :\"\")\r\n                                                :\"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t    <button className=\"ilv-btn ilv-btn-icon ilv-btn-link px-0\" onClick={this.startEditing.bind(this,index)}>\r\n                                                    <i className=\"ilv-icon material-icons md-18\">&#xE3C9;</i>\r\n\t\t\t\t\t\t\t\t\t\t\t    </button>\r\n                                                <button className=\"ilv-btn ilv-btn-icon ilv-btn-clean text-danger px-0 ml-3\" onClick={this.removeEducation.bind(this,index)}>\r\n                                                    <i className=\"ilv-icon material-icons md-18\">&#xE5C9;</i>\r\n                                                </button>\r\n                                            </div>\r\n\t\t\t\t\t\t\t\t\t    </li>;\r\n                                    })}\r\n\t\t\t\t\t\t\t\t\t\r\n                                    {!this.state.adding && (this.state.editing < 0) ?\r\n\t\t\t\t\t\t\t\t\t    <li className=\"ilv-media\">\r\n\t\t\t\t\t\t\t\t\t\t    <div className=\"ilv-media-body ilv-text-xs-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t    <button className=\"ilv-btn ilv-btn-link\" onClick={this.tweakAdding}>\r\n                                                    {Messages.get(\"ActionAddNewEducation\")}\r\n                                                </button>\r\n\t\t\t\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t\t\t    </li>\r\n                                    :\"\"}\r\n\t\t\t\t\t\t\t\t</ul>\r\n                                {this.state.adding ?\r\n\t\t\t\t\t\t\t\t    <EducationForm onSubmit={this.addEducation}\r\n                                                   onCancel={this.tweakAdding} />\r\n                                :\"\"}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n                            {!this.state.adding && (this.state.editing < 0) ?\r\n\t\t\t\t\t\t\t    <div className=\"ilv-card-footer ilv-text-xs-right\">\r\n                                    <Link className=\"ilv-btn ilv-btn-clean\" to=\"/become-a-professional\">\r\n                                        {Messages.get(\"LabelBack\")}\r\n                                    </Link>\r\n                                    <button className=\"ilv-btn ilv-btn-primary\"\r\n                                       onClick={this.saveInfo}\r\n                                       ref=\"btn-submit\">\r\n                                        {Messages.get(\"LabelSave\")}\r\n                                    </button>\r\n                                </div>\r\n                            :\"\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n      </div>);\r\n    }\r\n});\r\n"]}