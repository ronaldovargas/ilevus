"use strict";

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var React = require("react");
// ES6
var UserSession = require("ilevus/jsx/core/store/UserSession.jsx");

var WhiteLogo = require('ilevus/img/logo.png');
var createReactClass = require('create-react-class');

module.exports = createReactClass({
    displayName: "exports",

    contextTypes: {
        admin: _propTypes2.default.bool.isRequired
    },
    getInitialState: function getInitialState() {
        return {
            user: UserSession.get("user"),
            logged: !!UserSession.get("logged")
        };
    },
    componentDidMount: function componentDidMount() {
        var me = this;
        UserSession.on("login", function (session) {
            me.setState({
                user: session.get("user"),
                logged: true
            });
        }, me);
        UserSession.on("logout", function (session) {
            me.setState({
                user: null,
                logged: false
            });
        }, me);
    },
    componentWillUnmount: function componentWillUnmount() {
        UserSession.off(null, null, this);
    },
    onLogout: function onLogout() {
        endMonitorSessao();
        UserSession.dispatch({
            action: UserSession.ACTION_LOGOUT
        });
    },
    render: function render() {
        if (!this.state.logged) {
            return React.createElement("div", { style: { display: 'none' } });
        }
        return React.createElement(
            "div",
            { className: "ilevus-app-sidebar" },
            React.createElement(
                "div",
                { className: "ilevus-sidebar-brand" },
                React.createElement("img", { alt: "ilevus Logo", src: WhiteLogo })
            ),
            React.createElement(
                "ul",
                { className: "nav nav-stacked" },
                React.createElement(
                    "li",
                    null,
                    React.createElement(
                        "a",
                        { href: "#/users" },
                        React.createElement("span", { className: "ilevus-nav-icon mdi mdi-account-multiple"
                        }),
                        " Usu\xE1rios"
                    )
                ),
                React.createElement(
                    "li",
                    null,
                    React.createElement(
                        "a",
                        { href: "#/settings" },
                        React.createElement("span", { className: "ilevus-nav-icon mdi mdi-settings"
                        }),
                        " Configura\xE7\xF5es"
                    )
                ),
                React.createElement(
                    "li",
                    null,
                    React.createElement(
                        "a",
                        { href: "#/system" },
                        React.createElement("span", { className: "ilevus-nav-icon mdi mdi-chemical-weapon"
                        }),
                        " Sistema"
                    )
                )
            ),
            React.createElement("span", { className: "ilevus-fill" })
        );
    }
});
;

var _temp = function () {
    if (typeof __REACT_HOT_LOADER__ === 'undefined') {
        return;
    }
}();

;